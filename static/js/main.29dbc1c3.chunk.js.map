{"version":3,"sources":["images/logo.svg","images/burger.svg","images/close_icon.svg","components/Header.js","images/edit_button.svg","images/add_button.svg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/Popup.js","components/ImagePopup.js","utils/Api.js","components/Form.js","components/PopupWithForm.js","components/Input.js","hooks/useForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmPopup.js","components/InfoToolTip.js","images/success.png","images/failure.png","components/Register.js","components/Login.js","components/ProtectedRoute.js","utils/auth.js","components/App.js","index.js"],"names":["Header","email","linkText","path","loggedIn","setLoggedIn","useState","isBurgerOpen","setIsBurgerOpen","history","useHistory","signOut","localStorage","removeItem","push","className","onClick","to","src","logo","alt","state","close","burger","CurrentUserContext","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","like","cardLikeButtonClassName","onBinClick","type","onCardClick","link","name","onCardLike","length","Main","onEditAvatar","avatar","onEditProfile","editButton","about","onAddPlace","addButton","cards","map","cardData","Footer","Popup","isOpen","onClose","modForContainer","children","useEffect","closeByEscape","e","key","document","addEventListener","removeEventListener","target","currentTarget","closeButton","ImagePopup","selectedCard","api","baseUrl","headers","this","_baseUrl","_headers","res","ok","json","Promise","reject","fetch","then","_checkServerResponse","job","method","body","JSON","stringify","cardId","likeStatus","newCard","newAvatarLink","authorization","Form","handleSubmit","onSubmit","title","isFormValid","isLoading","textLoader","textSubmitBtn","PopupWithForm","Input","isValid","id","required","useForm","values","setValues","errors","setErrors","handleChange","event","val","value","validity","valid","currentState","validationMessage","EditProfilePopup","onUpdateUser","Object","keys","preventDefault","onChange","placeholder","minLength","maxLength","EditAvatarPopup","onUpdateAvatar","AddPlacePopup","ConfirmPopup","InfoToolTip","isSuccess","Register","setEmail","password","setPassword","Login","ProtectedRoute","Component","component","BASE_URL","checkServerResponse","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","isConfirmPopupOpen","setIsConfirmPopupOpen","isInfoToolTipOpen","setIsInfoToolTipOpen","isSuccessReg","setIsSuccessReg","setSelectedCard","deletedCard","setDeletedCard","cohort","setCurrentUser","setCards","setIsLoading","setloggedIn","closeAllPopups","all","getUserInfo","getInitialCards","userData","cardsData","catch","error","console","log","getItem","token","Authorization","auth","response","data","Provider","userDataFromForm","editUserInfo","userDataUpdated","finally","newCardData","addNewCard","deleteCard","filter","c","avatarLink","updateProfileAvatar","exact","changeLikeCardStatus","setItem","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.29dbc1c3.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","export default __webpack_public_path__ + \"static/media/burger.a46d5c1c.svg\";","export default __webpack_public_path__ + \"static/media/close_icon.039f1f52.svg\";","import React, { useState } from \"react\";\nimport logo from \"../images/logo.svg\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport burger from \"../images/burger.svg\";\nimport close from \"../images/close_icon.svg\";\n\nfunction Header({ email, linkText, path, loggedIn, setLoggedIn }) {\n  const [isBurgerOpen, setIsBurgerOpen] = useState(false);\n  const history = useHistory();\n\n  const signOut = () => {\n    localStorage.removeItem(\"token\");\n    setLoggedIn(false);\n    history.push(\"/sign-in\");\n  };\n\n  return (\n    <>\n      {isBurgerOpen && (\n        <div className=\"header__profile header__profile_type_burger\">\n          <p className=\"header__email header__email_type_burger\">{email}</p>\n          <button\n            className=\"header__link header__link_type_burger\"\n            onClick={signOut}\n          >\n            {linkText}\n          </button>\n        </div>\n      )}\n      <header className=\"header page__header\">\n        <Link to=\"/\">\n          <img className=\"logo header__logo\" src={logo} alt=\"Логотип Mesto\" />\n        </Link>\n        {loggedIn ? (\n          <>\n            <div\n              className={`header__profile ${\n                loggedIn && \"header__profile_type_logged\"\n              } `}\n            >\n              <p className=\"header__email\">{email}</p>\n              <button className=\"header__link\" onClick={signOut}>\n                {linkText}\n              </button>\n            </div>\n            <img\n              className=\"header__burger-button\"\n              onClick={() => setIsBurgerOpen((state) => !state)}\n              src={isBurgerOpen ? close : burger}\n              alt=\"Бургер меню\"\n            />\n          </>\n        ) : (\n          <div className=\"header__profile\">\n            <Link className=\"header__link\" to={path}>\n              {linkText}\n            </Link>\n          </div>\n        )}\n      </header>\n    </>\n  );\n}\n\nexport default Header;\n","export default __webpack_public_path__ + \"static/media/edit_button.6c7bf054.svg\";","export default __webpack_public_path__ + \"static/media/add_button.bed8c136.svg\";","import { createContext } from 'react';\n\nexport const CurrentUserContext = createContext();\n","import React, { useContext } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n  const currentUser = useContext(CurrentUserContext);\n  const isOwn = props.card.owner._id === currentUser._id;\n  const cardDeleteButtonClassName = `card__delete-button ${\n    !isOwn && \"card__delete-button_hidden\"\n  }`;\n  const isLiked = props.card.likes.some((like) => like._id === currentUser._id);\n  const cardLikeButtonClassName = `card__like-button ${\n    isLiked && \"card__like-button_type_liked\"\n  }`;\n\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  }\n\n  function handleBinClick() {\n    props.onBinClick(props.card);\n  }\n\n  return (\n    <li className=\"card\">\n      <button\n        onClick={handleBinClick}\n        className={cardDeleteButtonClassName}\n        type=\"button\"\n      ></button>\n      <img\n        className=\"card__image\"\n        onClick={handleClick}\n        src={props.card.link}\n        alt={props.card.name}\n      />\n      <div className=\"card__content\">\n        <h2 className=\"card__title\">{props.card.name}</h2>\n        <div className=\"card__like\">\n          <button\n            onClick={handleLikeClick}\n            className={cardLikeButtonClassName}\n            type=\"button\"\n          ></button>\n          <p className=\"card__like-counter\">{props.card.likes.length}</p>\n        </div>\n      </div>\n    </li>\n  );\n}\n\nexport default Card;\n","import React, { useContext } from \"react\";\nimport editButton from \"../images/edit_button.svg\";\nimport addButton from \"../images/add_button.svg\";\nimport Card from \"../components/Card\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Main(props) {\n  const currentUser = useContext(CurrentUserContext);\n\n  return (\n    <main>\n      <section className=\"profile page__profile\">\n        <div className=\"profile__info\">\n          <button\n            className=\"profile__avatar-edit-button\"\n            onClick={props.onEditAvatar}\n            type=\"button\"\n          >\n            <img\n              className=\"profile__avatar-image\"\n              src={currentUser.avatar}\n              alt=\"Аватарка пользователя\"\n            />\n          </button>\n          <div className=\"profile__text\">\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\n            <button\n              className=\"profile__edit-button\"\n              onClick={props.onEditProfile}\n              type=\"button\"\n            >\n              <img\n                className=\"profile__edit-image\"\n                src={editButton}\n                alt=\"Карандаш\"\n              />\n            </button>\n            <p className=\"profile__job\">{currentUser.about}</p>\n          </div>\n        </div>\n        <button\n          className=\"profile__add-button\"\n          onClick={props.onAddPlace}\n          type=\"button\"\n        >\n          <img className=\"profile__add-image\" src={addButton} alt=\"Плюс\" />\n        </button>\n      </section>\n      <section className=\"places page__places\" aria-label=\"Блок с фотографиями\">\n        <ul className=\"places__cards\">\n          {props.cards.map((cardData) => (\n            <Card\n              key={cardData._id}\n              card={cardData}\n              onCardClick={props.onCardClick}\n              onCardLike={props.onCardLike}\n              onBinClick={props.onBinClick}\n            />\n          ))}\n        </ul>\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","import React from \"react\";\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer page__footer\">\r\n      <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React, { useEffect } from \"react\";\r\nimport closeButton from \"../images/close_icon.svg\";\r\n\r\nfunction Popup({ isOpen, name, onClose, modForContainer, children }) {\r\n  useEffect(() => {\r\n    if (!isOpen) return;\r\n\r\n    const closeByEscape = (e) => {\r\n      if (e.key === \"Escape\") {\r\n        onClose();\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"keydown\", closeByEscape);\r\n    return () => document.removeEventListener(\"keydown\", closeByEscape);\r\n  }, [isOpen, onClose]);\r\n\r\n  const handleOverlay = (e) => {\r\n    if (e.target === e.currentTarget) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={`popup ${isOpen ? \"popup_opened\" : \"\"} popup_type_${name}`}\r\n      onClick={handleOverlay}\r\n    >\r\n      <div className={`popup__container ${modForContainer || \"\"}`}>\r\n        {children}\r\n        <button className=\"popup__close-button\" type=\"button\" onClick={onClose}>\r\n          <img className=\"popup__close-image\" src={closeButton} alt=\"Крестик\" />\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Popup;\r\n","import React from \"react\";\r\nimport Popup from \"./Popup\";\r\n\r\nfunction ImagePopup({ isOpen, name, onClose, ...props }) {\r\n  return (\r\n    <Popup isOpen={isOpen} name=\"full-image\" onClose={onClose}>\r\n      <img\r\n        className=\"popup__image\"\r\n        src={props.selectedCard.link}\r\n        alt={props.selectedCard.name}\r\n      />\r\n      <h2 className=\"popup__heading\">{props.selectedCard.name}</h2>\r\n    </Popup>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","class Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  _checkServerResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Что-то пошло не так. Обратитесь к разработчику`);\n  }\n\n  getUserInfo() {\n    return fetch(`${this._baseUrl}users/me`, {\n      headers: this._headers,\n    }).then((res) => this._checkServerResponse(res));\n  }\n\n  editUserInfo({ name, job }) {\n    return fetch(`${this._baseUrl}users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        about: job,\n      }),\n    }).then((res) => this._checkServerResponse(res));\n  }\n\n  getInitialCards() {\n    return fetch(`${this._baseUrl}cards`, {\n      headers: this._headers,\n    })\n      .then((res) => this._checkServerResponse(res))\n      .then((res) => {\n        return res;\n      });\n  }\n\n  deleteCard(cardId) {\n    return fetch(`${this._baseUrl}cards/${cardId}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then((res) => this._checkServerResponse(res));\n  }\n\n  changeLikeCardStatus(cardId, likeStatus) {\n    if (likeStatus) {\n      return fetch(`${this._baseUrl}cards/likes/${cardId}`, {\n        method: \"PUT\",\n        headers: this._headers,\n      }).then((res) => this._checkServerResponse(res));\n    } else {\n      return fetch(`${this._baseUrl}cards/likes/${cardId}`, {\n        method: \"DELETE\",\n        headers: this._headers,\n      }).then((res) => this._checkServerResponse(res));\n    }\n  }\n\n  addNewCard(newCard) {\n    return fetch(`${this._baseUrl}cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: newCard.name,\n        link: newCard.link,\n      }),\n    }).then((res) => this._checkServerResponse(res));\n  }\n\n  updateProfileAvatar(newAvatarLink) {\n    return fetch(`${this._baseUrl}users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: newAvatarLink,\n      }),\n    }).then((res) => this._checkServerResponse(res));\n  }\n}\n\nexport const api = new Api({\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-30/\",\n  headers: {\n    authorization: \"f8d069a4-3828-4aef-8f1b-77976b73046b\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n","import React from \"react\";\r\n\r\nfunction Form({ handleSubmit, ...props }) {\r\n  return (\r\n    <form\r\n      onSubmit={handleSubmit}\r\n      className={`popup__form popup__form_type_${props.name}`}\r\n      name={props.name}\r\n    >\r\n      <h2 className=\"popup__title\">{props.title}</h2>\r\n      {props.children}\r\n      <button\r\n        className={`popup__button ${\r\n          !props.isFormValid ? \"popup__button_disabled\" : \"\"\r\n        }`}\r\n        type=\"submit\"\r\n      >\r\n        {props.isLoading ? props.textLoader : props.textSubmitBtn}\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default Form;\r\n","import React from \"react\";\r\nimport Popup from \"./Popup\";\r\nimport Form from \"./Form\";\r\n\r\nfunction PopupWithForm({ isOpen, name, onClose, ...props }) {\r\n  function handleSubmit(e) {\r\n    props.onSubmit(e);\r\n  }\r\n\r\n  return (\r\n    <Popup isOpen={isOpen} name={name} onClose={onClose}>\r\n      <Form\r\n        handleSubmit={handleSubmit}\r\n        name={name}\r\n        title={props.title}\r\n        isLoading={props.isLoading}\r\n        textLoader={props.textLoader}\r\n        textSubmitBtn={props.textSubmitBtn}\r\n        isFormValid={props.isFormValid}\r\n      >\r\n        {props.children}\r\n      </Form>\r\n    </Popup>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from \"react\";\r\n\r\nfunction Input({ name, isValid, ...props }) {\r\n  return (\r\n    <input\r\n      className={`popup__input popup__input_type_${name} ${\r\n        !isValid ? \"\" : \"popup__input_type_error\"\r\n      }`}\r\n      name={name}\r\n      id={`${name}-input`}\r\n      {...props}\r\n      required\r\n    />\r\n  );\r\n}\r\n\r\nexport default Input;\r\n","import { useState } from \"react\";\r\n\r\nfunction useForm() {\r\n  const [values, setValues] = useState({});\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const handleChange = (event) => {\r\n    let name = event.target.name;\r\n    let val = event.target.value;\r\n\r\n    setValues({\r\n      ...values,\r\n      [name]: val,\r\n    });\r\n\r\n    if (!event.target.validity.valid) {\r\n      setErrors({ ...errors, [name]: event.target.validationMessage });\r\n    } else {\r\n      const currentState = errors;\r\n      delete currentState[name];\r\n      setErrors({\r\n        ...errors,\r\n        ...currentState,\r\n      });\r\n    }\r\n  };\r\n\r\n  return {\r\n    handleChange,\r\n    setValues,\r\n    setErrors,\r\n    values,\r\n    errors,\r\n  };\r\n}\r\n\r\nexport default useForm;\r\n","import React, { useContext, useEffect } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport Input from \"./Input\";\r\nimport useForm from \"../hooks/useForm\";\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, isLoading }) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const { handleChange, values, setValues, errors, setErrors } = useForm();\r\n\r\n  useEffect(() => {\r\n    setValues({ name: currentUser.name, job: currentUser.about });\r\n    setErrors({});\r\n  }, [currentUser, isOpen, setValues, setErrors]);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateUser({ name: values[\"name\"], job: values[\"job\"] });\r\n  }\r\n\r\n  let isFormValid =\r\n    !Object.keys(errors).length && values[\"name\"] && values[\"job\"];\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"edit\"\r\n      title=\"Редактировать профиль\"\r\n      textSubmitBtn=\"Сохранить\"\r\n      textLoader=\"Сохранение...\"\r\n      isLoading={isLoading}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      isFormValid={isFormValid}\r\n    >\r\n      <Input\r\n        value={values[\"name\"] || \"\"}\r\n        onChange={handleChange}\r\n        isValid={errors[\"name\"] ? true : false}\r\n        name=\"name\"\r\n        type=\"text\"\r\n        placeholder=\"Имя\"\r\n        minLength=\"2\"\r\n        maxLength=\"40\"\r\n      />\r\n      <span\r\n        className={`popup__error name-input-error ${\r\n          errors[\"name\"] ? \"popup__error_visible\" : \"\"\r\n        }`}\r\n      >\r\n        {errors[\"name\"]}\r\n      </span>\r\n      <Input\r\n        value={values[\"job\"] || \"\"}\r\n        onChange={handleChange}\r\n        isValid={errors[\"job\"] ? true : false}\r\n        name=\"job\"\r\n        type=\"text\"\r\n        placeholder=\"Профессиональная деятельность\"\r\n        minLength=\"2\"\r\n        maxLength=\"200\"\r\n      />\r\n      <span\r\n        className={`popup__error job-input-error ${\r\n          errors[\"job\"] ? \"popup__error_visible\" : \"\"\r\n        }`}\r\n      >\r\n        {errors[\"job\"]}\r\n      </span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React, { useEffect } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport Input from \"./Input\";\r\nimport useForm from \"../hooks/useForm\";\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, isLoading }) {\r\n  const { handleChange, values, setValues, errors, setErrors } = useForm();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateAvatar(values[\"avatar-link\"]);\r\n  }\r\n\r\n  useEffect(() => {\r\n    setValues({ \"avatar-link\": \"\" });\r\n    setErrors({});\r\n  }, [isOpen, setValues, setErrors]);\r\n\r\n  let isFormValid = !Object.keys(errors).length && values[\"avatar-link\"];\r\n\r\n  return (\r\n    <PopupWithForm\r\n      onSubmit={handleSubmit}\r\n      name=\"update-avatar\"\r\n      title=\"Обновить аватар\"\r\n      textSubmitBtn=\"Сохранить\"\r\n      textLoader=\"Сохранение...\"\r\n      isLoading={isLoading}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      isFormValid={isFormValid}\r\n    >\r\n      <Input\r\n        value={values[\"avatar-link\"] || \"\"}\r\n        onChange={handleChange}\r\n        name=\"avatar-link\"\r\n        type=\"url\"\r\n        placeholder=\"Ссылка на аватар\"\r\n        isValid={errors[\"avatar-link\"] ? true : false}\r\n      />\r\n      <span\r\n        className={`popup__error avatar-link-input-error ${\r\n          errors[\"avatar-link\"] ? \"popup__error_visible\" : \"\"\r\n        }`}\r\n      >\r\n        {errors[\"avatar-link\"]}\r\n      </span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React, { useEffect } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport Input from \"./Input\";\r\nimport useForm from \"../hooks/useForm\";\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace, isLoading }) {\r\n  const { handleChange, values, setValues, errors, setErrors } = useForm();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onAddPlace({ name: values[\"place-name\"], link: values[\"place-link\"] });\r\n  }\r\n\r\n  useEffect(() => {\r\n    setValues({ \"place-name\": \"\", \"place-link\": \"\" });\r\n    setErrors({});\r\n  }, [isOpen, setErrors, setValues]);\r\n\r\n  let isFormValid =\r\n    !Object.keys(errors).length && values[\"place-name\"] && values[\"place-link\"];\r\n\r\n  return (\r\n    <PopupWithForm\r\n      onSubmit={handleSubmit}\r\n      name=\"add\"\r\n      title=\"Новое место\"\r\n      textSubmitBtn=\"Создать\"\r\n      textLoader=\"Сохранение...\"\r\n      isLoading={isLoading}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      isFormValid={isFormValid}\r\n    >\r\n      <Input\r\n        value={values[\"place-name\"] || \"\"}\r\n        isValid={errors[\"place-name\"] ? true : false}\r\n        onChange={handleChange}\r\n        type=\"text\"\r\n        name=\"place-name\"\r\n        placeholder=\"Название\"\r\n        minLength=\"2\"\r\n        maxLength=\"30\"\r\n      />\r\n      <span\r\n        className={`popup__error place-name-input-error ${\r\n          errors[\"place-name\"] ? \"popup__error_visible\" : \"\"\r\n        }`}\r\n      >\r\n        {errors[\"place-name\"]}\r\n      </span>\r\n      <Input\r\n        value={values[\"place-link\"] || \"\"}\r\n        isValid={errors[\"place-link\"] ? true : false}\r\n        onChange={handleChange}\r\n        type=\"url\"\r\n        name=\"place-link\"\r\n        placeholder=\"Ссылка на картинку\"\r\n      />\r\n      <span\r\n        className={`popup__error place-link-input-error ${\r\n          errors[\"place-link\"] ? \"popup__error_visible\" : \"\"\r\n        }`}\r\n      >\r\n        {errors[\"place-link\"]}\r\n      </span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction ConfirmPopup({ isOpen, onClose, onSubmit, isLoading }) {\n  function handleSubmit(e) {\n    e.preventDefault();\n    onSubmit();\n  }\n\n  return (\n    <PopupWithForm\n      onSubmit={handleSubmit}\n      isOpen={isOpen}\n      onClose={onClose}\n      isLoading={isLoading}\n      name=\"confirm\"\n      title=\"Вы уверены?\"\n      textSubmitBtn=\"Да\"\n      textLoader=\"Удаляем...\"\n    />\n  );\n}\n\nexport default ConfirmPopup;\n","import React from \"react\";\r\nimport success from \"../images/success.png\";\r\nimport failure from \"../images/failure.png\";\r\nimport Popup from \"./Popup\";\r\n\r\nfunction InfoToolTip({ isOpen, onClose, ...props }) {\r\n  return (\r\n    <Popup\r\n      isOpen={isOpen}\r\n      name=\"info\"\r\n      onClose={onClose}\r\n      modForContainer=\"popup__container_type_info\"\r\n    >\r\n      <img\r\n        className=\"popup__info-image\"\r\n        src={props.isSuccess ? success : failure}\r\n        alt=\"Галочка\"\r\n      />\r\n      <h2 className=\"popup__title popup__title_type_info\">\r\n        {props.isSuccess\r\n          ? \"Вы успешно зарегистрировались!\"\r\n          : \"Что-то пошло не так! Попробуйте ещё раз\"}\r\n      </h2>\r\n    </Popup>\r\n  );\r\n}\r\n\r\nexport default InfoToolTip;\r\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Register({ onSubmit, isLoading }) {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onSubmit(password, email);\r\n  };\r\n\r\n  return (\r\n    <div className=\"form-section\">\r\n      <div className=\"form-section__container\">\r\n        <form\r\n          onSubmit={handleSubmit}\r\n          className=\"form-section__form\"\r\n          name=\"sign-up\"\r\n        >\r\n          <h2 className=\"form-section__title\">Регистрация</h2>\r\n          <input\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            className=\"form-section__input\"\r\n            type=\"email\"\r\n            name=\"email\"\r\n            placeholder=\"Email\"\r\n            required\r\n          />\r\n          <input\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            className=\"form-section__input\"\r\n            type=\"password\"\r\n            name=\"password\"\r\n            placeholder=\"Пароль\"\r\n            required\r\n          />\r\n          <button className=\"form-section__button\" type=\"submit\">\r\n            {isLoading ? \"Загрузка...\" : \"Зарегистрироваться\"}\r\n          </button>\r\n          <p className=\"form-section__text\">\r\n            Уже зарегистрированы?{\" \"}\r\n            <Link className=\"form-section__link\" to=\"/sign-in\">\r\n              Войти\r\n            </Link>\r\n          </p>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n","import React, { useState } from \"react\";\r\n\r\nfunction Login({ onSubmit, isLoading }) {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (!email || !password) {\r\n      return;\r\n    }\r\n    onSubmit(password, email, setEmail, setPassword);\r\n  };\r\n\r\n  return (\r\n    <div className=\"form-section\">\r\n      <div className=\"form-section__container\">\r\n        <form\r\n          onSubmit={handleSubmit}\r\n          className=\"form-section__form\"\r\n          name=\"sign-up\"\r\n        >\r\n          <h2 className=\"form-section__title\">Вход</h2>\r\n          <input\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            className=\"form-section__input\"\r\n            type=\"email\"\r\n            name=\"email\"\r\n            placeholder=\"Email\"\r\n            required\r\n          />\r\n          <input\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            className=\"form-section__input\"\r\n            type=\"password\"\r\n            name=\"password\"\r\n            placeholder=\"Пароль\"\r\n            required\r\n          />\r\n          <button className=\"form-section__button\" type=\"submit\">\r\n            {isLoading ? \"Загрузка...\" : \"Войти\"}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nfunction ProtectedRoute({ component: Component, ...props }) {\n  return (\n    <Route>\n      {props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />}\n    </Route>\n  );\n}\n\nexport default ProtectedRoute;\n","export const BASE_URL = \"https://auth.nomoreparties.co\";\r\n\r\nconst checkServerResponse = (res) => {\r\n  if (res.ok) {\r\n    return res.json();\r\n  }\r\n  return Promise.reject(`Что-то пошло не так. Обратитесь к разработчику`);\r\n};\r\n\r\nexport const register = (password, email) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({\r\n      password: password,\r\n      email: email,\r\n    }),\r\n  }).then((res) => checkServerResponse(res));\r\n};\r\n\r\nexport const authorize = (password, email) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({\r\n      password: password,\r\n      email: email,\r\n    }),\r\n  })\r\n    .then((res) => checkServerResponse(res))\r\n    .then((data) => {\r\n      if (data.token) {\r\n        localStorage.setItem(\"token\", data.token);\r\n        return data;\r\n      }\r\n    });\r\n};\r\n\r\nexport const getContent = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  }).then((res) => checkServerResponse(res));\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Header from \"./Header\";\r\nimport Main from \"./Main\";\r\nimport Footer from \"./Footer\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport { api } from \"../utils/Api\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport CofirmPopup from \"./ConfirmPopup\";\r\nimport InfoToolTip from \"./InfoToolTip\";\r\nimport { Switch, Route, Redirect, useHistory } from \"react-router-dom\";\r\nimport Register from \"./Register\";\r\nimport Login from \"./Login\";\r\nimport ProtectedRoute from \"./ProtectedRoute\";\r\nimport * as auth from \"../utils/auth\";\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\r\n  const [isConfirmPopupOpen, setIsConfirmPopupOpen] = useState(false);\r\n  const [isInfoToolTipOpen, setIsInfoToolTipOpen] = useState(false);\r\n  const [isSuccessReg, setIsSuccessReg] = useState(false);\r\n  const [selectedCard, setSelectedCard] = useState({ name: \"\", link: \"\" });\r\n  const [deletedCard, setDeletedCard] = useState({});\r\n  const [currentUser, setCurrentUser] = useState({\r\n    about: \"\",\r\n    avatar: \"\",\r\n    cohort: \"\",\r\n    name: \"\",\r\n    _id: \"\",\r\n  });\r\n  const [cards, setCards] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [loggedIn, setloggedIn] = useState(false);\r\n  const [email, setEmail] = useState(\"\");\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    Promise.all([api.getUserInfo(), api.getInitialCards()])\r\n      .then(([userData, cardsData]) => {\r\n        setCurrentUser(userData);\r\n        setCards(cardsData);\r\n      })\r\n      .catch((error) => console.log(error));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (localStorage.getItem(\"token\")) {\r\n      const token = localStorage.getItem(\"token\");\r\n      auth\r\n        .getContent(token)\r\n        .then((response) => {\r\n          if (response) {\r\n            setloggedIn(true);\r\n            setEmail(response.data.email);\r\n            history.push(\"/\");\r\n          }\r\n        })\r\n        .catch((e) => console.log(e));\r\n    }\r\n  }, [history, loggedIn]);\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function handleCardClick(cardData) {\r\n    setIsImagePopupOpen(true);\r\n    setSelectedCard(cardData);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsImagePopupOpen(false);\r\n    setIsConfirmPopupOpen(false);\r\n    setIsInfoToolTipOpen(false);\r\n    setSelectedCard({ name: \"\", link: \"\" });\r\n    setDeletedCard({});\r\n  }\r\n\r\n  function handleUpdateUser(userDataFromForm) {\r\n    setIsLoading(true);\r\n    api\r\n      .editUserInfo(userDataFromForm)\r\n      .then((userDataUpdated) => {\r\n        setCurrentUser({\r\n          ...userDataUpdated,\r\n          name: userDataUpdated.name,\r\n          about: userDataUpdated.about,\r\n        });\r\n        closeAllPopups();\r\n      })\r\n      .catch((error) => console.log(error))\r\n      .finally(() => setIsLoading(false));\r\n  }\r\n\r\n  function handleUpdateAvatar(avatarLink) {\r\n    setIsLoading(true);\r\n    api\r\n      .updateProfileAvatar(avatarLink)\r\n      .then((userDataUpdated) => {\r\n        setCurrentUser({\r\n          ...userDataUpdated,\r\n          avatar: userDataUpdated.avatar,\r\n        });\r\n        closeAllPopups();\r\n        avatarLink.value = \"\";\r\n      })\r\n      .catch((error) => console.log(error))\r\n      .finally(() => setIsLoading(false));\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some((like) => like._id === currentUser._id);\r\n\r\n    api\r\n      .changeLikeCardStatus(card._id, !isLiked)\r\n      .then((newCard) => {\r\n        setCards((state) =>\r\n          state.map((c) => (c._id === card._id ? newCard : c))\r\n        );\r\n      })\r\n      .catch((error) => console.log(error));\r\n  }\r\n\r\n  function onBinClick(card) {\r\n    setDeletedCard(card);\r\n    setIsConfirmPopupOpen(true);\r\n  }\r\n\r\n  function handleCardDelete() {\r\n    setIsLoading(true);\r\n    api\r\n      .deleteCard(deletedCard._id)\r\n      .then(() => {\r\n        setCards((state) => state.filter((c) => c._id !== deletedCard._id));\r\n        closeAllPopups();\r\n      })\r\n      .catch((error) => console.log(error))\r\n      .finally(() => setIsLoading(false));\r\n  }\r\n\r\n  function handleAddPlaceSubmit(newCardData) {\r\n    setIsLoading(true);\r\n    api\r\n      .addNewCard(newCardData)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch((error) => console.log(error))\r\n      .finally(() => setIsLoading(false));\r\n  }\r\n\r\n  function registerUser(password, email) {\r\n    setIsLoading(true);\r\n    auth\r\n      .register(password, email)\r\n      .then((res) => {\r\n        if (res) {\r\n          history.push(\"/sign-in\");\r\n          setIsSuccessReg(true);\r\n        } else {\r\n          console.log(\"Что-то пошло не так\");\r\n          setIsSuccessReg(false);\r\n        }\r\n      })\r\n      .catch((e) => {\r\n        console.log(e);\r\n        setIsSuccessReg(false);\r\n      })\r\n      .finally(() => {\r\n        setIsInfoToolTipOpen(true);\r\n        setIsLoading(false);\r\n      });\r\n  }\r\n\r\n  function loginUser(password, email, setEmail, setPassword) {\r\n    setIsLoading(true);\r\n    auth\r\n      .authorize(password, email)\r\n      .then((data) => {\r\n        if (data.token) {\r\n          setEmail(\"\");\r\n          setPassword(\"\");\r\n          setloggedIn(true);\r\n          history.push(\"/\");\r\n        }\r\n      })\r\n      .catch((e) => {\r\n        console.log(e);\r\n        setloggedIn(true);\r\n      })\r\n      .finally(() => setIsLoading(false));\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\">\r\n        <EditProfilePopup\r\n          isOpen={isEditProfilePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateUser={handleUpdateUser}\r\n          isLoading={isLoading}\r\n        />\r\n        <AddPlacePopup\r\n          isOpen={isAddPlacePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onAddPlace={handleAddPlaceSubmit}\r\n          isLoading={isLoading}\r\n        />\r\n        <CofirmPopup\r\n          isOpen={isConfirmPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onSubmit={handleCardDelete}\r\n          isLoading={isLoading}\r\n        />\r\n        <EditAvatarPopup\r\n          isOpen={isEditAvatarPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateAvatar={handleUpdateAvatar}\r\n          isLoading={isLoading}\r\n        />\r\n        <ImagePopup\r\n          isOpen={isImagePopupOpen}\r\n          onClose={closeAllPopups}\r\n          selectedCard={selectedCard}\r\n        />\r\n        <InfoToolTip\r\n          isOpen={isInfoToolTipOpen}\r\n          onClose={closeAllPopups}\r\n          isSuccess={isSuccessReg}\r\n        />\r\n        {loggedIn && (\r\n          <Header\r\n            email={email}\r\n            linkText=\"Выйти\"\r\n            loggedIn={loggedIn}\r\n            setLoggedIn={setloggedIn}\r\n          />\r\n        )}\r\n        <Switch>\r\n          <ProtectedRoute\r\n            path=\"/\"\r\n            exact\r\n            component={Main}\r\n            onEditProfile={handleEditProfileClick}\r\n            onAddPlace={handleAddPlaceClick}\r\n            onEditAvatar={handleEditAvatarClick}\r\n            onCardClick={handleCardClick}\r\n            cards={cards}\r\n            onCardLike={handleCardLike}\r\n            onBinClick={onBinClick}\r\n            loggedIn={loggedIn}\r\n          />\r\n          <Route path=\"/sign-up\">\r\n            <Header linkText=\"Войти\" path=\"/sign-in\" />\r\n            <Register onSubmit={registerUser} isLoading={isLoading} />\r\n          </Route>\r\n          <Route path=\"/sign-in\">\r\n            <Header linkText=\"Регистрация\" path=\"/sign-up\" />\r\n            <Login onSubmit={loginUser} isLoading={isLoading} />\r\n          </Route>\r\n          <Redirect to=\"/sign-in\" />\r\n        </Switch>\r\n        {loggedIn && <Footer />}\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { HashRouter } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}