{"version":3,"sources":["images/logo.svg","images/burger.svg","images/close_icon.svg","components/Header.js","images/edit_button.svg","images/add_button.svg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/Popup.js","components/ImagePopup.js","utils/Api.js","components/Form.js","components/PopupWithForm.js","components/InputWithError.js","hooks/useFormAndValidation.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmPopup.js","components/InfoToolTip.js","images/success.png","images/failure.png","components/Register.js","components/Login.js","components/ProtectedRoute.js","utils/auth.js","components/App.js","index.js"],"names":["Header","email","linkText","path","loggedIn","setLoggedIn","useState","isBurgerOpen","setIsBurgerOpen","history","useHistory","signOut","localStorage","removeItem","push","className","onClick","to","src","logo","alt","state","close","burger","CurrentUserContext","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","like","cardLikeButtonClassName","onBinClick","type","onCardClick","link","name","onCardLike","length","Main","onEditAvatar","avatar","onEditProfile","editButton","about","onAddPlace","addButton","cards","map","cardData","Footer","Popup","isOpen","onClose","modForContainer","children","containerForImage","useEffect","closeByEscape","e","key","document","addEventListener","removeEventListener","target","currentTarget","closeButton","ImagePopup","selectedCard","api","baseUrl","headers","this","_baseUrl","_headers","res","ok","json","Promise","reject","fetch","then","_checkServerResponse","job","method","body","JSON","stringify","cardId","likeStatus","newCard","newAvatarLink","authorization","Form","handleSubmit","onSubmit","noValidate","title","isFormValid","disabled","isLoading","textLoader","textSubmitBtn","PopupWithForm","InputWithError","isInvalid","errorText","id","required","useFormAndValidation","values","setValues","errors","setErrors","setIsFormValid","resetForm","useCallback","newValues","newErrors","newIsFormValid","handleChange","value","validationMessage","closest","checkValidity","EditProfilePopup","onUpdateUser","preventDefault","onChange","placeholder","minLength","maxLength","EditAvatarPopup","onUpdateAvatar","AddPlacePopup","ConfirmPopup","InfoToolTip","isSuccess","Register","setEmail","password","setPassword","Login","ProtectedRoute","Component","component","BASE_URL","checkServerResponse","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","isConfirmPopupOpen","setIsConfirmPopupOpen","isInfoToolTipOpen","setIsInfoToolTipOpen","isSuccessReg","setIsSuccessReg","setSelectedCard","deletedCard","setDeletedCard","cohort","setCurrentUser","setCards","setIsLoading","setloggedIn","closeAllPopups","all","getUserInfo","getInitialCards","userData","cardsData","catch","error","console","log","getItem","token","Authorization","auth","response","data","Provider","userDataFromForm","editUserInfo","userDataUpdated","finally","newCardData","addNewCard","deleteCard","filter","c","avatarLink","updateProfileAvatar","exact","changeLikeCardStatus","setItem","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.746076a7.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","export default __webpack_public_path__ + \"static/media/burger.a46d5c1c.svg\";","export default __webpack_public_path__ + \"static/media/close_icon.039f1f52.svg\";","import React, { useState } from \"react\";\nimport logo from \"../images/logo.svg\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport burger from \"../images/burger.svg\";\nimport close from \"../images/close_icon.svg\";\n\nfunction Header({ email, linkText, path, loggedIn, setLoggedIn }) {\n  const [isBurgerOpen, setIsBurgerOpen] = useState(false);\n  const history = useHistory();\n\n  const signOut = () => {\n    localStorage.removeItem(\"token\");\n    setLoggedIn(false);\n    history.push(\"/sign-in\");\n  };\n\n  return (\n    <>\n      {isBurgerOpen && (\n        <div className=\"header__profile header__profile_type_burger\">\n          <p className=\"header__email header__email_type_burger\">{email}</p>\n          <button\n            className=\"header__link header__link_type_burger\"\n            onClick={signOut}\n          >\n            {linkText}\n          </button>\n        </div>\n      )}\n      <header className=\"header page__header\">\n        <Link to=\"/\">\n          <img className=\"logo header__logo\" src={logo} alt=\"Логотип Mesto\" />\n        </Link>\n        {loggedIn ? (\n          <>\n            <div\n              className={`header__profile ${\n                loggedIn && \"header__profile_type_logged\"\n              } `}\n            >\n              <p className=\"header__email\">{email}</p>\n              <button className=\"header__link\" onClick={signOut}>\n                {linkText}\n              </button>\n            </div>\n            <img\n              className=\"header__burger-button\"\n              onClick={() => setIsBurgerOpen((state) => !state)}\n              src={isBurgerOpen ? close : burger}\n              alt=\"Бургер меню\"\n            />\n          </>\n        ) : (\n          <div className=\"header__profile\">\n            <Link className=\"header__link\" to={path}>\n              {linkText}\n            </Link>\n          </div>\n        )}\n      </header>\n    </>\n  );\n}\n\nexport default Header;\n","export default __webpack_public_path__ + \"static/media/edit_button.6c7bf054.svg\";","export default __webpack_public_path__ + \"static/media/add_button.bed8c136.svg\";","import { createContext } from 'react';\n\nexport const CurrentUserContext = createContext();\n","import React, { useContext } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n  const currentUser = useContext(CurrentUserContext);\n  const isOwn = props.card.owner._id === currentUser._id;\n  const cardDeleteButtonClassName = `card__delete-button ${\n    !isOwn && \"card__delete-button_hidden\"\n  }`;\n  const isLiked = props.card.likes.some((like) => like._id === currentUser._id);\n  const cardLikeButtonClassName = `card__like-button ${\n    isLiked && \"card__like-button_type_liked\"\n  }`;\n\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  }\n\n  function handleBinClick() {\n    props.onBinClick(props.card);\n  }\n\n  return (\n    <li className=\"card\">\n      <button\n        onClick={handleBinClick}\n        className={cardDeleteButtonClassName}\n        type=\"button\"\n      ></button>\n      <img\n        className=\"card__image\"\n        onClick={handleClick}\n        src={props.card.link}\n        alt={props.card.name}\n      />\n      <div className=\"card__content\">\n        <h2 className=\"card__title\">{props.card.name}</h2>\n        <div className=\"card__like\">\n          <button\n            onClick={handleLikeClick}\n            className={cardLikeButtonClassName}\n            type=\"button\"\n          ></button>\n          <p className=\"card__like-counter\">{props.card.likes.length}</p>\n        </div>\n      </div>\n    </li>\n  );\n}\n\nexport default Card;\n","import React, { useContext } from \"react\";\nimport editButton from \"../images/edit_button.svg\";\nimport addButton from \"../images/add_button.svg\";\nimport Card from \"../components/Card\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Main(props) {\n  const currentUser = useContext(CurrentUserContext);\n\n  return (\n    <main>\n      <section className=\"profile page__profile\">\n        <div className=\"profile__info\">\n          <button\n            className=\"profile__avatar-edit-button\"\n            onClick={props.onEditAvatar}\n            type=\"button\"\n          >\n            <img\n              className=\"profile__avatar-image\"\n              src={currentUser.avatar}\n              alt=\"Аватарка пользователя\"\n            />\n          </button>\n          <div className=\"profile__text\">\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\n            <button\n              className=\"profile__edit-button\"\n              onClick={props.onEditProfile}\n              type=\"button\"\n            >\n              <img\n                className=\"profile__edit-image\"\n                src={editButton}\n                alt=\"Карандаш\"\n              />\n            </button>\n            <p className=\"profile__job\">{currentUser.about}</p>\n          </div>\n        </div>\n        <button\n          className=\"profile__add-button\"\n          onClick={props.onAddPlace}\n          type=\"button\"\n        >\n          <img className=\"profile__add-image\" src={addButton} alt=\"Плюс\" />\n        </button>\n      </section>\n      <section className=\"places page__places\" aria-label=\"Блок с фотографиями\">\n        <ul className=\"places__cards\">\n          {props.cards.map((cardData) => (\n            <Card\n              key={cardData._id}\n              card={cardData}\n              onCardClick={props.onCardClick}\n              onCardLike={props.onCardLike}\n              onBinClick={props.onBinClick}\n            />\n          ))}\n        </ul>\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","import React from \"react\";\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer page__footer\">\r\n      <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React, { useEffect } from \"react\";\nimport closeButton from \"../images/close_icon.svg\";\n\nfunction Popup({\n  isOpen,\n  name,\n  onClose,\n  modForContainer,\n  children,\n  containerForImage,\n}) {\n  useEffect(() => {\n    if (!isOpen) return;\n\n    const closeByEscape = (e) => {\n      if (e.key === \"Escape\") {\n        onClose();\n      }\n    };\n\n    document.addEventListener(\"keydown\", closeByEscape);\n    return () => document.removeEventListener(\"keydown\", closeByEscape);\n  }, [isOpen, onClose]);\n\n  const handleOverlay = (e) => {\n    if (e.target === e.currentTarget) {\n      onClose();\n    }\n  };\n\n  return (\n    <div\n      className={`popup ${isOpen ? \"popup_opened\" : \"\"} popup_type_${name}`}\n      onClick={handleOverlay}\n    >\n      <div\n        className={\n          containerForImage || `popup__container ${modForContainer || \"\"}`\n        }\n      >\n        {children}\n        <button className=\"popup__close-button\" type=\"button\" onClick={onClose}>\n          <img className=\"popup__close-image\" src={closeButton} alt=\"Крестик\" />\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default Popup;\n","import React from \"react\";\nimport Popup from \"./Popup\";\n\nfunction ImagePopup({ isOpen, name, onClose, ...props }) {\n  return (\n    <Popup\n      isOpen={isOpen}\n      name=\"image\"\n      onClose={onClose}\n      containerForImage=\"popup__image-container\"\n    >\n      <img\n        className=\"popup__image\"\n        src={props.selectedCard.link}\n        alt={props.selectedCard.name}\n      />\n      <h2 className=\"popup__heading\">{props.selectedCard.name}</h2>\n    </Popup>\n  );\n}\n\nexport default ImagePopup;\n","class Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  _checkServerResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Что-то пошло не так. Обратитесь к разработчику`);\n  }\n\n  getUserInfo() {\n    return fetch(`${this._baseUrl}users/me`, {\n      headers: this._headers,\n    }).then((res) => this._checkServerResponse(res));\n  }\n\n  editUserInfo({ name, job }) {\n    return fetch(`${this._baseUrl}users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        about: job,\n      }),\n    }).then((res) => this._checkServerResponse(res));\n  }\n\n  getInitialCards() {\n    return fetch(`${this._baseUrl}cards`, {\n      headers: this._headers,\n    })\n      .then((res) => this._checkServerResponse(res))\n      .then((res) => {\n        return res;\n      });\n  }\n\n  deleteCard(cardId) {\n    return fetch(`${this._baseUrl}cards/${cardId}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then((res) => this._checkServerResponse(res));\n  }\n\n  changeLikeCardStatus(cardId, likeStatus) {\n    if (likeStatus) {\n      return fetch(`${this._baseUrl}cards/likes/${cardId}`, {\n        method: \"PUT\",\n        headers: this._headers,\n      }).then((res) => this._checkServerResponse(res));\n    } else {\n      return fetch(`${this._baseUrl}cards/likes/${cardId}`, {\n        method: \"DELETE\",\n        headers: this._headers,\n      }).then((res) => this._checkServerResponse(res));\n    }\n  }\n\n  addNewCard(newCard) {\n    return fetch(`${this._baseUrl}cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: newCard.name,\n        link: newCard.link,\n      }),\n    }).then((res) => this._checkServerResponse(res));\n  }\n\n  updateProfileAvatar(newAvatarLink) {\n    return fetch(`${this._baseUrl}users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: newAvatarLink,\n      }),\n    }).then((res) => this._checkServerResponse(res));\n  }\n}\n\nexport const api = new Api({\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-30/\",\n  headers: {\n    authorization: \"f8d069a4-3828-4aef-8f1b-77976b73046b\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n","import React from \"react\";\n\nfunction Form({ handleSubmit, ...props }) {\n  return (\n    <form\n      onSubmit={handleSubmit}\n      className={`popup__form popup__form_type_${props.name}`}\n      name={props.name}\n      noValidate\n    >\n      <h2 className=\"popup__title\">{props.title}</h2>\n      {props.children}\n      <button\n        className={`popup__button ${\n          !props.isFormValid ? \"popup__button_disabled\" : \"\"\n        }`}\n        type=\"submit\"\n        disabled={!props.isFormValid}\n      >\n        {props.isLoading ? props.textLoader : props.textSubmitBtn}\n      </button>\n    </form>\n  );\n}\n\nexport default Form;\n","import React from \"react\";\r\nimport Popup from \"./Popup\";\r\nimport Form from \"./Form\";\r\n\r\nfunction PopupWithForm({ isOpen, name, onClose, ...props }) {\r\n  function handleSubmit(e) {\r\n    props.onSubmit(e);\r\n  }\r\n\r\n  return (\r\n    <Popup isOpen={isOpen} name={name} onClose={onClose}>\r\n      <Form\r\n        handleSubmit={handleSubmit}\r\n        name={name}\r\n        title={props.title}\r\n        isLoading={props.isLoading}\r\n        textLoader={props.textLoader}\r\n        textSubmitBtn={props.textSubmitBtn}\r\n        isFormValid={props.isFormValid}\r\n      >\r\n        {props.children}\r\n      </Form>\r\n    </Popup>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from \"react\";\n\nfunction InputWithError({ name, isInvalid, errorText, ...props }) {\n  return (\n    <>\n      <input\n        className={`popup__input popup__input_type_${name} ${\n          isInvalid ? \"popup__input_type_error\" : \"\"\n        }`}\n        name={name}\n        id={`${name}-input`}\n        {...props}\n        required\n      />\n      <span\n        className={`popup__error avatar-link-input-error ${\n          isInvalid ? \"popup__error_visible\" : \"\"\n        }`}\n      >\n        {errorText}\n      </span>\n    </>\n  );\n}\n\nexport default InputWithError;\n","import { useState, useCallback } from \"react\";\n\nexport function useFormAndValidation() {\n  const [values, setValues] = useState({});\n  const [errors, setErrors] = useState({});\n  const [isFormValid, setIsFormValid] = useState(true);\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setValues({ ...values, [name]: value });\n    setErrors({ ...errors, [name]: e.target.validationMessage });\n    setIsFormValid(e.target.closest(\"form\").checkValidity());\n  };\n\n  const resetForm = useCallback(\n    (newValues = {}, newErrors = {}, newIsFormValid = false) => {\n      setValues(newValues);\n      setErrors(newErrors);\n      setIsFormValid(newIsFormValid);\n    },\n    [setValues, setErrors, setIsFormValid]\n  );\n\n  return {\n    values,\n    errors,\n    isFormValid,\n    handleChange,\n    setValues,\n    setErrors,\n    setIsFormValid,\n    resetForm,\n  };\n}\n\nexport default useFormAndValidation;\n","import React, { useContext, useEffect } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport InputWithError from \"./InputWithError\";\nimport useFormAndValidation from \"../hooks/useFormAndValidation\";\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, isLoading }) {\n  const currentUser = useContext(CurrentUserContext);\n  const { handleChange, values, setValues, errors, isFormValid, resetForm } =\n    useFormAndValidation();\n\n  useEffect(() => {\n    resetForm();\n    setValues({ name: currentUser.name, job: currentUser.about });\n  }, [currentUser, isOpen, setValues, resetForm]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateUser({ name: values[\"name\"], job: values[\"job\"] });\n  }\n\n  return (\n    <PopupWithForm\n      name=\"edit\"\n      title=\"Редактировать профиль\"\n      textSubmitBtn=\"Сохранить\"\n      textLoader=\"Сохранение...\"\n      isLoading={isLoading}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      isFormValid={isFormValid}\n    >\n      <InputWithError\n        value={values[\"name\"] || \"\"}\n        onChange={handleChange}\n        isInvalid={errors[\"name\"] ? true : false}\n        errorText={errors[\"name\"]}\n        name=\"name\"\n        type=\"text\"\n        placeholder=\"Имя\"\n        minLength=\"2\"\n        maxLength=\"40\"\n      />\n      <InputWithError\n        value={values[\"job\"] || \"\"}\n        onChange={handleChange}\n        isInvalid={errors[\"job\"] ? true : false}\n        errorText={errors[\"job\"]}\n        name=\"job\"\n        type=\"text\"\n        placeholder=\"Профессиональная деятельность\"\n        minLength=\"2\"\n        maxLength=\"200\"\n      />\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React, { useEffect } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport InputWithError from \"./InputWithError\";\nimport useFormAndValidation from \"../hooks/useFormAndValidation\";\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, isLoading }) {\n  const { handleChange, values, errors, isFormValid, resetForm } =\n    useFormAndValidation();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateAvatar(values[\"avatar-link\"]);\n  }\n\n  useEffect(() => resetForm(), [isOpen, resetForm]);\n\n  return (\n    <PopupWithForm\n      onSubmit={handleSubmit}\n      name=\"update-avatar\"\n      title=\"Обновить аватар\"\n      textSubmitBtn=\"Сохранить\"\n      textLoader=\"Сохранение...\"\n      isLoading={isLoading}\n      isOpen={isOpen}\n      onClose={onClose}\n      isFormValid={isFormValid}\n    >\n      <InputWithError\n        value={values[\"avatar-link\"] || \"\"}\n        onChange={handleChange}\n        name=\"avatar-link\"\n        type=\"url\"\n        placeholder=\"Ссылка на аватар\"\n        isInvalid={errors[\"avatar-link\"] ? true : false}\n        errorText={errors[\"avatar-link\"]}\n      />\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React, { useEffect } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport InputWithError from \"./InputWithError\";\nimport useFormAndValidation from \"../hooks/useFormAndValidation\";\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace, isLoading }) {\n  const { handleChange, values, errors, isFormValid, resetForm } =\n    useFormAndValidation();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onAddPlace({ name: values[\"place-name\"], link: values[\"place-link\"] });\n  }\n\n  useEffect(() => resetForm(), [isOpen, resetForm]);\n\n  return (\n    <PopupWithForm\n      onSubmit={handleSubmit}\n      name=\"add\"\n      title=\"Новое место\"\n      textSubmitBtn=\"Создать\"\n      textLoader=\"Сохранение...\"\n      isLoading={isLoading}\n      isOpen={isOpen}\n      onClose={onClose}\n      isFormValid={isFormValid}\n    >\n      <InputWithError\n        value={values[\"place-name\"] || \"\"}\n        isInvalid={errors[\"place-name\"] ? true : false}\n        errorText={errors[\"place-name\"]}\n        onChange={handleChange}\n        type=\"text\"\n        name=\"place-name\"\n        placeholder=\"Название\"\n        minLength=\"2\"\n        maxLength=\"30\"\n      />\n      <InputWithError\n        value={values[\"place-link\"] || \"\"}\n        isInvalid={errors[\"place-link\"] ? true : false}\n        errorText={errors[\"place-link\"]}\n        onChange={handleChange}\n        type=\"url\"\n        name=\"place-link\"\n        placeholder=\"Ссылка на картинку\"\n      />\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction ConfirmPopup({ isOpen, onClose, onSubmit, isLoading }) {\n  function handleSubmit(e) {\n    e.preventDefault();\n    onSubmit();\n  }\n\n  return (\n    <PopupWithForm\n      onSubmit={handleSubmit}\n      isOpen={isOpen}\n      onClose={onClose}\n      isLoading={isLoading}\n      name=\"confirm\"\n      title=\"Вы уверены?\"\n      textSubmitBtn=\"Да\"\n      textLoader=\"Удаляем...\"\n      isFormValid={true}\n    />\n  );\n}\n\nexport default ConfirmPopup;\n","import React from \"react\";\r\nimport success from \"../images/success.png\";\r\nimport failure from \"../images/failure.png\";\r\nimport Popup from \"./Popup\";\r\n\r\nfunction InfoToolTip({ isOpen, onClose, ...props }) {\r\n  return (\r\n    <Popup\r\n      isOpen={isOpen}\r\n      name=\"info\"\r\n      onClose={onClose}\r\n      modForContainer=\"popup__container_type_info\"\r\n    >\r\n      <img\r\n        className=\"popup__info-image\"\r\n        src={props.isSuccess ? success : failure}\r\n        alt=\"Галочка\"\r\n      />\r\n      <h2 className=\"popup__title popup__title_type_info\">\r\n        {props.isSuccess\r\n          ? \"Вы успешно зарегистрировались!\"\r\n          : \"Что-то пошло не так! Попробуйте ещё раз\"}\r\n      </h2>\r\n    </Popup>\r\n  );\r\n}\r\n\r\nexport default InfoToolTip;\r\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Register({ onSubmit, isLoading }) {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onSubmit(password, email);\r\n  };\r\n\r\n  return (\r\n    <div className=\"form-section\">\r\n      <div className=\"form-section__container\">\r\n        <form\r\n          onSubmit={handleSubmit}\r\n          className=\"form-section__form\"\r\n          name=\"sign-up\"\r\n        >\r\n          <h2 className=\"form-section__title\">Регистрация</h2>\r\n          <input\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            className=\"form-section__input\"\r\n            type=\"email\"\r\n            name=\"email\"\r\n            placeholder=\"Email\"\r\n            required\r\n          />\r\n          <input\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            className=\"form-section__input\"\r\n            type=\"password\"\r\n            name=\"password\"\r\n            placeholder=\"Пароль\"\r\n            required\r\n          />\r\n          <button className=\"form-section__button\" type=\"submit\">\r\n            {isLoading ? \"Загрузка...\" : \"Зарегистрироваться\"}\r\n          </button>\r\n          <p className=\"form-section__text\">\r\n            Уже зарегистрированы?{\" \"}\r\n            <Link className=\"form-section__link\" to=\"/sign-in\">\r\n              Войти\r\n            </Link>\r\n          </p>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n","import React, { useState } from \"react\";\r\n\r\nfunction Login({ onSubmit, isLoading }) {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (!email || !password) {\r\n      return;\r\n    }\r\n    onSubmit(password, email, setEmail, setPassword);\r\n  };\r\n\r\n  return (\r\n    <div className=\"form-section\">\r\n      <div className=\"form-section__container\">\r\n        <form\r\n          onSubmit={handleSubmit}\r\n          className=\"form-section__form\"\r\n          name=\"sign-up\"\r\n        >\r\n          <h2 className=\"form-section__title\">Вход</h2>\r\n          <input\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            className=\"form-section__input\"\r\n            type=\"email\"\r\n            name=\"email\"\r\n            placeholder=\"Email\"\r\n            required\r\n          />\r\n          <input\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            className=\"form-section__input\"\r\n            type=\"password\"\r\n            name=\"password\"\r\n            placeholder=\"Пароль\"\r\n            required\r\n          />\r\n          <button className=\"form-section__button\" type=\"submit\">\r\n            {isLoading ? \"Загрузка...\" : \"Войти\"}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nfunction ProtectedRoute({ component: Component, ...props }) {\n  return (\n    <Route>\n      {props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />}\n    </Route>\n  );\n}\n\nexport default ProtectedRoute;\n","export const BASE_URL = \"https://auth.nomoreparties.co\";\r\n\r\nconst checkServerResponse = (res) => {\r\n  if (res.ok) {\r\n    return res.json();\r\n  }\r\n  return Promise.reject(`Что-то пошло не так. Обратитесь к разработчику`);\r\n};\r\n\r\nexport const register = (password, email) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({\r\n      password: password,\r\n      email: email,\r\n    }),\r\n  }).then((res) => checkServerResponse(res));\r\n};\r\n\r\nexport const authorize = (password, email) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({\r\n      password: password,\r\n      email: email,\r\n    }),\r\n  })\r\n    .then((res) => checkServerResponse(res))\r\n    .then((data) => {\r\n      if (data.token) {\r\n        localStorage.setItem(\"token\", data.token);\r\n        return data;\r\n      }\r\n    });\r\n};\r\n\r\nexport const getContent = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  }).then((res) => checkServerResponse(res));\r\n};\r\n","import React, { useState, useEffect } from \"react\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport ImagePopup from \"./ImagePopup\";\nimport { api } from \"../utils/Api\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport CofirmPopup from \"./ConfirmPopup\";\nimport InfoToolTip from \"./InfoToolTip\";\nimport { Switch, Route, Redirect, useHistory } from \"react-router-dom\";\nimport Register from \"./Register\";\nimport Login from \"./Login\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport * as auth from \"../utils/auth\";\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\n  const [isConfirmPopupOpen, setIsConfirmPopupOpen] = useState(false);\n  const [isInfoToolTipOpen, setIsInfoToolTipOpen] = useState(false);\n  const [isSuccessReg, setIsSuccessReg] = useState(false);\n  const [selectedCard, setSelectedCard] = useState({ name: \"\", link: \"\" });\n  const [deletedCard, setDeletedCard] = useState({});\n  const [currentUser, setCurrentUser] = useState({\n    about: \"\",\n    avatar: \"\",\n    cohort: \"\",\n    name: \"\",\n    _id: \"\",\n  });\n  const [cards, setCards] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [loggedIn, setloggedIn] = useState(false);\n  const [email, setEmail] = useState(\"\");\n  const history = useHistory();\n\n  useEffect(() => {\n    Promise.all([api.getUserInfo(), api.getInitialCards()])\n      .then(([userData, cardsData]) => {\n        setCurrentUser(userData);\n        setCards(cardsData);\n      })\n      .catch((error) => console.log(error));\n  }, []);\n\n  useEffect(() => {\n    if (localStorage.getItem(\"token\")) {\n      const token = localStorage.getItem(\"token\");\n      auth\n        .getContent(token)\n        .then((response) => {\n          if (response) {\n            setloggedIn(true);\n            setEmail(response.data.email);\n            history.push(\"/\");\n          }\n        })\n        .catch((e) => console.log(e));\n    }\n  }, [history, loggedIn]);\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(cardData) {\n    setIsImagePopupOpen(true);\n    setSelectedCard(cardData);\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsImagePopupOpen(false);\n    setIsConfirmPopupOpen(false);\n    setIsInfoToolTipOpen(false);\n    setSelectedCard({ name: \"\", link: \"\" });\n    setDeletedCard({});\n  }\n\n  function handleUpdateUser(userDataFromForm) {\n    setIsLoading(true);\n    api\n      .editUserInfo(userDataFromForm)\n      .then((userDataUpdated) => {\n        setCurrentUser({\n          ...userDataUpdated,\n          name: userDataUpdated.name,\n          about: userDataUpdated.about,\n        });\n        closeAllPopups();\n      })\n      .catch((error) => console.log(error))\n      .finally(() => setIsLoading(false));\n  }\n\n  function handleUpdateAvatar(avatarLink) {\n    setIsLoading(true);\n    api\n      .updateProfileAvatar(avatarLink)\n      .then((userDataUpdated) => {\n        setCurrentUser({\n          ...userDataUpdated,\n          avatar: userDataUpdated.avatar,\n        });\n        closeAllPopups();\n      })\n      .catch((error) => console.log(error))\n      .finally(() => setIsLoading(false));\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((like) => like._id === currentUser._id);\n\n    api\n      .changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        setCards((state) =>\n          state.map((c) => (c._id === card._id ? newCard : c))\n        );\n      })\n      .catch((error) => console.log(error));\n  }\n\n  function onBinClick(card) {\n    setDeletedCard(card);\n    setIsConfirmPopupOpen(true);\n  }\n\n  function handleCardDelete() {\n    setIsLoading(true);\n    api\n      .deleteCard(deletedCard._id)\n      .then(() => {\n        setCards((state) => state.filter((c) => c._id !== deletedCard._id));\n        closeAllPopups();\n      })\n      .catch((error) => console.log(error))\n      .finally(() => setIsLoading(false));\n  }\n\n  function handleAddPlaceSubmit(newCardData) {\n    setIsLoading(true);\n    api\n      .addNewCard(newCardData)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((error) => console.log(error))\n      .finally(() => setIsLoading(false));\n  }\n\n  function registerUser(password, email) {\n    setIsLoading(true);\n    auth\n      .register(password, email)\n      .then((res) => {\n        if (res) {\n          history.push(\"/sign-in\");\n          setIsSuccessReg(true);\n        } else {\n          console.log(\"Что-то пошло не так\");\n          setIsSuccessReg(false);\n        }\n      })\n      .catch((e) => {\n        console.log(e);\n        setIsSuccessReg(false);\n      })\n      .finally(() => {\n        setIsInfoToolTipOpen(true);\n        setIsLoading(false);\n      });\n  }\n\n  function loginUser(password, email, setEmail, setPassword) {\n    setIsLoading(true);\n    auth\n      .authorize(password, email)\n      .then((data) => {\n        if (data.token) {\n          setEmail(\"\");\n          setPassword(\"\");\n          setloggedIn(true);\n          history.push(\"/\");\n        }\n      })\n      .catch((e) => {\n        console.log(e);\n        setloggedIn(true);\n      })\n      .finally(() => setIsLoading(false));\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n          isLoading={isLoading}\n        />\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n          isLoading={isLoading}\n        />\n        <CofirmPopup\n          isOpen={isConfirmPopupOpen}\n          onClose={closeAllPopups}\n          onSubmit={handleCardDelete}\n          isLoading={isLoading}\n        />\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n          isLoading={isLoading}\n        />\n        <ImagePopup\n          isOpen={isImagePopupOpen}\n          onClose={closeAllPopups}\n          selectedCard={selectedCard}\n        />\n        <InfoToolTip\n          isOpen={isInfoToolTipOpen}\n          onClose={closeAllPopups}\n          isSuccess={isSuccessReg}\n        />\n        {loggedIn && (\n          <Header\n            email={email}\n            linkText=\"Выйти\"\n            loggedIn={loggedIn}\n            setLoggedIn={setloggedIn}\n          />\n        )}\n        <Switch>\n          <ProtectedRoute\n            path=\"/\"\n            exact\n            component={Main}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            onCardClick={handleCardClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onBinClick={onBinClick}\n            loggedIn={loggedIn}\n          />\n          <Route path=\"/sign-up\">\n            <Header linkText=\"Войти\" path=\"/sign-in\" />\n            <Register onSubmit={registerUser} isLoading={isLoading} />\n          </Route>\n          <Route path=\"/sign-in\">\n            <Header linkText=\"Регистрация\" path=\"/sign-up\" />\n            <Login onSubmit={loginUser} isLoading={isLoading} />\n          </Route>\n          <Redirect to=\"/sign-in\" />\n        </Switch>\n        {loggedIn && <Footer />}\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { HashRouter } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}