{"version":3,"sources":["images/logo.svg","images/burger.svg","images/close_icon.svg","components/Header.js","images/edit_button.svg","images/add_button.svg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/Api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmPopup.js","components/InfoToolTip.js","images/success.png","images/failure.png","components/auth.js","components/Register.js","components/Login.js","components/ProtectedRoute.js","components/App.js","index.js"],"names":["Header","email","linkText","path","loggedIn","setLoggedIn","useState","isBurgerOpen","setIsBurgerOpen","history","useHistory","signOut","localStorage","removeItem","push","className","onClick","to","src","logo","alt","state","close","burger","CurrentUserContext","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","like","cardLikeButtonClassName","onBinClick","type","onCardClick","link","name","onCardLike","length","Main","onEditAvatar","avatar","onEditProfile","editButton","about","onAddPlace","addButton","cards","map","cardData","Footer","ImagePopup","isOpen","onClose","e","stopPropagation","closeButton","selectedCard","api","baseUrl","headers","this","_baseUrl","_headers","res","ok","json","Promise","reject","fetch","then","_checkServerResponse","job","method","body","JSON","stringify","cardId","likeStatus","newCard","newAvatarLink","authorization","PopupWithForm","onSubmit","title","children","isLoading","textLoader","textSubmitBtn","EditProfilePopup","onUpdateUser","setName","description","setDescription","useEffect","preventDefault","value","onChange","target","id","placeholder","minLength","maxLength","required","EditAvatarPopup","onUpdateAvatar","inputForImage","useRef","current","ref","AddPlacePopup","placeTitle","setPlaceTitle","placeLinkImage","setPlaceLinkImage","clearInputs","ConfirmPopup","InfoToolTip","isSuccess","BASE_URL","Register","setInfoMsg","setRegistationStatus","setEmail","password","setPassword","setIsLoading","cleanupFlag","setCleanupFlag","response","status","err","catch","console","log","auth","finally","Login","handleLogin","data","token","setItem","ProtectedRoute","Component","component","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","isConfirmPopupOpen","setIsConfirmPopupOpen","isInfoToolTipOpen","setIsInfoToolTipOpen","setIsSuccess","setSelectedCard","deletedCard","setDeletedCard","cohort","setCurrentUser","setCards","setloggedIn","closeAllPopups","all","getUserInfo","getInitialCards","userData","cardsData","error","getItem","Authorization","Provider","userDataFromForm","editUserInfo","userDataUpdated","newCardData","addNewCard","deleteCard","filter","c","avatarLink","updateProfileAvatar","exact","changeLikeCardStatus","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1f2d2b87.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","export default __webpack_public_path__ + \"static/media/burger.a46d5c1c.svg\";","export default __webpack_public_path__ + \"static/media/close_icon.039f1f52.svg\";","import React, { useState } from \"react\";\nimport logo from \"../images/logo.svg\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport burger from \"../images/burger.svg\";\nimport close from \"../images/close_icon.svg\";\n\nfunction Header({ email, linkText, path, loggedIn, setLoggedIn }) {\n  const [isBurgerOpen, setIsBurgerOpen] = useState(false);\n  const history = useHistory();\n\n  const signOut = () => {\n    localStorage.removeItem(\"token\");\n    setLoggedIn(false);\n    history.push(\"/sign-in\");\n  };\n\n  return (\n    <>\n      {isBurgerOpen && (\n        <div className=\"header__profile header__profile_type_burger\">\n          <p className=\"header__email header__email_type_burger\">{email}</p>\n          <button\n            className=\"header__link header__link_type_burger\"\n            onClick={signOut}\n          >\n            {linkText}\n          </button>\n        </div>\n      )}\n      <header className=\"header page__header\">\n        <Link to=\"/\">\n          <img className=\"logo header__logo\" src={logo} alt=\"Логотип Mesto\" />\n        </Link>\n        {loggedIn ? (\n          <>\n            <div\n              className={`header__profile ${\n                loggedIn && \"header__profile_type_logged\"\n              } `}\n            >\n              <p className=\"header__email\">{email}</p>\n              <button className=\"header__link\" onClick={signOut}>\n                {linkText}\n              </button>\n            </div>\n            <img\n              className=\"header__burger-button\"\n              onClick={() => setIsBurgerOpen((state) => !state)}\n              src={isBurgerOpen ? close : burger}\n              alt=\"Бургер меню\"\n            />\n          </>\n        ) : (\n          <div className=\"header__profile\">\n            <Link className=\"header__link\" to={path}>\n              {linkText}\n            </Link>\n          </div>\n        )}\n      </header>\n    </>\n  );\n}\n\nexport default Header;\n","export default __webpack_public_path__ + \"static/media/edit_button.6c7bf054.svg\";","export default __webpack_public_path__ + \"static/media/add_button.bed8c136.svg\";","import { createContext } from 'react';\n\nexport const CurrentUserContext = createContext();\n","import React, { useContext } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n  const currentUser = useContext(CurrentUserContext);\n  const isOwn = props.card.owner._id === currentUser._id;\n  const cardDeleteButtonClassName = `card__delete-button ${\n    !isOwn && \"card__delete-button_hidden\"\n  }`;\n  const isLiked = props.card.likes.some((like) => like._id === currentUser._id);\n  const cardLikeButtonClassName = `card__like-button ${\n    isLiked && \"card__like-button_type_liked\"\n  }`;\n\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  }\n\n  function handleBinClick() {\n    props.onBinClick(props.card);\n  }\n\n  return (\n    <li className=\"card\">\n      <button\n        onClick={handleBinClick}\n        className={cardDeleteButtonClassName}\n        type=\"button\"\n      ></button>\n      <img\n        className=\"card__image\"\n        onClick={handleClick}\n        src={props.card.link}\n        alt={props.card.name}\n      />\n      <div className=\"card__content\">\n        <h2 className=\"card__title\">{props.card.name}</h2>\n        <div className=\"card__like\">\n          <button\n            onClick={handleLikeClick}\n            className={cardLikeButtonClassName}\n            type=\"button\"\n          ></button>\n          <p className=\"card__like-counter\">{props.card.likes.length}</p>\n        </div>\n      </div>\n    </li>\n  );\n}\n\nexport default Card;\n","import React, { useContext } from \"react\";\nimport editButton from \"../images/edit_button.svg\";\nimport addButton from \"../images/add_button.svg\";\nimport Card from \"../components/Card\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Main(props) {\n  const currentUser = useContext(CurrentUserContext);\n\n  return (\n    <main>\n      <section className=\"profile page__profile\">\n        <div className=\"profile__info\">\n          <button\n            className=\"profile__avatar-edit-button\"\n            onClick={props.onEditAvatar}\n            type=\"button\"\n          >\n            <img\n              className=\"profile__avatar-image\"\n              src={currentUser.avatar}\n              alt=\"Аватарка пользователя\"\n            />\n          </button>\n          <div className=\"profile__text\">\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\n            <button\n              className=\"profile__edit-button\"\n              onClick={props.onEditProfile}\n              type=\"button\"\n            >\n              <img\n                className=\"profile__edit-image\"\n                src={editButton}\n                alt=\"Карандаш\"\n              />\n            </button>\n            <p className=\"profile__job\">{currentUser.about}</p>\n          </div>\n        </div>\n        <button\n          className=\"profile__add-button\"\n          onClick={props.onAddPlace}\n          type=\"button\"\n        >\n          <img className=\"profile__add-image\" src={addButton} alt=\"Плюс\" />\n        </button>\n      </section>\n      <section className=\"places page__places\" aria-label=\"Блок с фотографиями\">\n        <ul className=\"places__cards\">\n          {props.cards.map((cardData) => (\n            <Card\n              key={cardData._id}\n              card={cardData}\n              onCardClick={props.onCardClick}\n              onCardLike={props.onCardLike}\n              onBinClick={props.onBinClick}\n            />\n          ))}\n        </ul>\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","import React from \"react\";\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer page__footer\">\r\n      <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from \"react\";\nimport closeButton from \"../images/close_icon.svg\";\n\nfunction ImagePopup(props) {\n  return (\n    <div\n      className={`popup popup_type_image ${props.isOpen && \"popup_opened\"}`}\n      onClick={props.onClose}\n    >\n      <div\n        className=\"popup__image-container\"\n        onClick={(e) => e.stopPropagation()}\n      >\n        <button className=\"popup__close-button\" type=\"button\">\n          <img\n            className=\"popup__close-image\"\n            onClick={props.onClose}\n            src={closeButton}\n            alt=\"Крестик\"\n          />\n        </button>\n        <img\n          className=\"popup__image\"\n          src={props.selectedCard.link}\n          alt={props.selectedCard.name}\n        />\n        <h2 className=\"popup__heading\">{props.selectedCard.name}</h2>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","class Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  _checkServerResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Что-то пошло не так. Обратитесь к разработчику`);\n  }\n\n  getUserInfo() {\n    return fetch(`${this._baseUrl}users/me`, {\n      headers: this._headers,\n    }).then((res) => this._checkServerResponse(res));\n  }\n\n  editUserInfo({ name, job }) {\n    return fetch(`${this._baseUrl}users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        about: job,\n      }),\n    }).then((res) => this._checkServerResponse(res));\n  }\n\n  getInitialCards() {\n    return fetch(`${this._baseUrl}cards`, {\n      headers: this._headers,\n    })\n      .then((res) => this._checkServerResponse(res))\n      .then((res) => {\n        return res;\n      });\n  }\n\n  deleteCard(cardId) {\n    return fetch(`${this._baseUrl}cards/${cardId}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then((res) => this._checkServerResponse(res));\n  }\n\n  changeLikeCardStatus(cardId, likeStatus) {\n    if (likeStatus) {\n      return fetch(`${this._baseUrl}cards/likes/${cardId}`, {\n        method: \"PUT\",\n        headers: this._headers,\n      }).then((res) => this._checkServerResponse(res));\n    } else {\n      return fetch(`${this._baseUrl}cards/likes/${cardId}`, {\n        method: \"DELETE\",\n        headers: this._headers,\n      }).then((res) => this._checkServerResponse(res));\n    }\n  }\n\n  addNewCard(newCard) {\n    return fetch(`${this._baseUrl}cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: newCard.name,\n        link: newCard.link,\n      }),\n    }).then((res) => this._checkServerResponse(res));\n  }\n\n  updateProfileAvatar(newAvatarLink) {\n    return fetch(`${this._baseUrl}users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: newAvatarLink,\n      }),\n    }).then((res) => this._checkServerResponse(res));\n  }\n}\n\nexport const api = new Api({\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-30/\",\n  headers: {\n    authorization: \"f8d069a4-3828-4aef-8f1b-77976b73046b\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n","import React from \"react\";\nimport closeButton from \"../images/close_icon.svg\";\n\nfunction PopupWithForm(props) {\n  function handleSubmit(e) {\n    props.onSubmit(e);\n  }\n\n  return (\n    <div\n      className={`popup popup_type_${props.name} ${\n        props.isOpen && \"popup_opened\"\n      }`}\n      onClick={props.onClose}\n    >\n      <div className=\"popup__container\" onClick={(e) => e.stopPropagation()}>\n        <button className=\"popup__close-button\" type=\"button\">\n          <img\n            className=\"popup__close-image\"\n            onClick={props.onClose}\n            src={closeButton}\n            alt=\"Крестик\"\n          />\n        </button>\n        <form\n          onSubmit={handleSubmit}\n          className={`popup__form popup__form_type_${props.name}`}\n          name={props.name}\n        >\n          <h2 className=\"popup__title\">{props.title}</h2>\n          {props.children}\n          <button className=\"popup__button\" type=\"submit\">\n            {props.isLoading ? props.textLoader : props.textSubmitBtn}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, isLoading }) {\r\n  const [name, setName] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser, isOpen]);\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleChangeDescription(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateUser({ name: name, job: description });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"edit\"\r\n      title=\"Редактировать профиль\"\r\n      textSubmitBtn=\"Сохранить\"\r\n      textLoader=\"Сохранение...\"\r\n      isLoading={isLoading}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        value={name || \"\"}\r\n        onChange={handleChangeName}\r\n        id=\"name-input\"\r\n        className=\"popup__input popup__input_type_name\"\r\n        type=\"text\"\r\n        name=\"name\"\r\n        placeholder=\"Имя\"\r\n        minLength=\"2\"\r\n        maxLength=\"40\"\r\n        required\r\n      />\r\n      <span className=\"popup__error name-input-error\"></span>\r\n      <input\r\n        value={description || \"\"}\r\n        onChange={handleChangeDescription}\r\n        id=\"job-input\"\r\n        className=\"popup__input popup__input_type_job\"\r\n        type=\"text\"\r\n        name=\"job\"\r\n        placeholder=\"Профессиональная деятельность\"\r\n        minLength=\"2\"\r\n        maxLength=\"200\"\r\n        required\r\n      />\r\n      <span className=\"popup__error job-input-error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React, { useRef } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, isLoading }) {\r\n  const inputForImage = useRef();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateAvatar(inputForImage.current);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      onSubmit={handleSubmit}\r\n      name=\"update-avatar\"\r\n      title=\"Обновить аватар\"\r\n      textSubmitBtn=\"Сохранить\"\r\n      textLoader=\"Сохранение...\"\r\n      isLoading={isLoading}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n    >\r\n      <input\r\n        ref={inputForImage}\r\n        id=\"avatar-link-input\"\r\n        className=\"popup__input popup__input_type_avatar-link\"\r\n        type=\"url\"\r\n        name=\"avatar-link\"\r\n        placeholder=\"Ссылка на аватар\"\r\n        required\r\n      />\r\n      <span className=\"popup__error avatar-link-input-error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React, { useState } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace, isLoading }) {\r\n  const [placeTitle, setPlaceTitle] = useState(\"\");\r\n  const [placeLinkImage, setPlaceLinkImage] = useState(\"\");\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onAddPlace({ name: placeTitle, link: placeLinkImage }, clearInputs);\r\n  }\r\n\r\n  function clearInputs() {\r\n    setPlaceTitle(\"\");\r\n    setPlaceLinkImage(\"\");\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      onSubmit={handleSubmit}\r\n      name=\"add\"\r\n      title=\"Новое место\"\r\n      textSubmitBtn=\"Создать\"\r\n      textLoader=\"Сохранение...\"\r\n      isLoading={isLoading}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n    >\r\n      <input\r\n        value={placeTitle}\r\n        onChange={(e) => {\r\n          setPlaceTitle(e.target.value);\r\n        }}\r\n        id=\"place-name-input\"\r\n        className=\"popup__input popup__input_type_place-name\"\r\n        type=\"text\"\r\n        name=\"place-name\"\r\n        placeholder=\"Название\"\r\n        minLength=\"2\"\r\n        maxLength=\"30\"\r\n        required\r\n      />\r\n      <span className=\"popup__error place-name-input-error\"></span>\r\n      <input\r\n        value={placeLinkImage}\r\n        onChange={(e) => {\r\n          setPlaceLinkImage(e.target.value);\r\n        }}\r\n        id=\"place-link-input\"\r\n        className=\"popup__input popup__input_type_place-link\"\r\n        type=\"url\"\r\n        name=\"place-link\"\r\n        placeholder=\"Ссылка на картинку\"\r\n        required\r\n      />\r\n      <span className=\"popup__error place-link-input-error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction ConfirmPopup({ isOpen, onClose, onSubmit, isLoading }) {\n  function handleSubmit(e) {\n    e.preventDefault();\n    onSubmit();\n  }\n\n  return (\n    <PopupWithForm\n      onSubmit={handleSubmit}\n      isOpen={isOpen}\n      onClose={onClose}\n      isLoading={isLoading}\n      name=\"confirm\"\n      title=\"Вы уверены?\"\n      textSubmitBtn=\"Да\"\n      textLoader=\"Удаляем...\"\n    />\n  );\n}\n\nexport default ConfirmPopup;\n","import React from \"react\";\nimport closeButton from \"../images/close_icon.svg\";\nimport success from \"../images/success.png\";\nimport failure from \"../images/failure.png\";\n\nfunction InfoToolTip({ isOpen, onClose, isSuccess }) {\n  return (\n    <div className={`popup ${isOpen && \"popup_opened\"}`} onClick={onClose}>\n      <div\n        className=\"popup__container popup__container_type_info\"\n        onClick={(e) => e.stopPropagation()}\n      >\n        <button className=\"popup__close-button\" type=\"button\">\n          <img\n            className=\"popup__close-image\"\n            onClick={onClose}\n            src={closeButton}\n            alt=\"Крестик\"\n          />\n        </button>\n        <img\n          className=\"popup__info-image\"\n          src={isSuccess ? success : failure}\n          alt=\"Галочка\"\n        />\n        <h2 className=\"popup__title popup__title_type_info\">\n          {isSuccess\n            ? \"Вы успешно зарегистрировались!\"\n            : \"Что-то пошло не так! Попробуйте ещё раз\"}\n        </h2>\n      </div>\n    </div>\n  );\n}\n\nexport default InfoToolTip;\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export const BASE_URL = \"https://auth.nomoreparties.co\";\n\nexport const register = (password, email) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      password: password,\n      email: email,\n    }),\n  })\n    .then((response) => {\n      try {\n        if (response.status === 201) {\n          return response.json();\n        }\n      } catch (err) {\n        return err;\n      }\n    })\n    .then((response) => {\n      return response;\n    })\n    .catch((e) => console.log(e));\n};\n\nexport const authorize = (password, email) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      password: password,\n      email: email,\n    }),\n  })\n    .then((response) => {\n      return response.json();\n    })\n    .then((data) => {\n      if (data.token) {\n        localStorage.setItem(\"token\", data.token);\n        return data;\n      }\n    })\n    .catch((e) => console.log(e));\n};\n\nexport const getContent = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`,\n    },\n  })\n    .then((response) => {\n      return response.json();\n    })\n    .catch((e) => console.log(e));\n};\n","import React, { useState, useEffect } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport * as auth from \"./auth\";\n\nfunction Register({ setInfoMsg, setRegistationStatus }) {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [cleanupFlag, setCleanupFlag] = useState(false);\n  const history = useHistory();\n\n  useEffect(() => {\n    return () => setCleanupFlag(true);\n  }, []);\n\n  const handleSubmit = (e) => {\n    if (!cleanupFlag) {\n      setIsLoading(true);\n      e.preventDefault();\n      auth\n        .register(password, email)\n        .then((res) => {\n          if (res) {\n            history.push(\"/sign-in\");\n            setRegistationStatus(true);\n          } else {\n            console.log(\"Что-то пошло не так\");\n            setRegistationStatus(false);\n          }\n        })\n        .catch((e) => console.log(e))\n        .finally(() => {\n          setInfoMsg(true);\n          setIsLoading(false);\n        });\n    }\n  };\n\n  return (\n    <div className=\"form-section\">\n      <div className=\"form-section__container\">\n        <form\n          onSubmit={handleSubmit}\n          className=\"form-section__form\"\n          name=\"sign-up\"\n        >\n          <h2 className=\"form-section__title\">Регистрация</h2>\n          <input\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            className=\"form-section__input\"\n            type=\"email\"\n            name=\"email\"\n            placeholder=\"Email\"\n            required\n          />\n          <input\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            className=\"form-section__input\"\n            type=\"password\"\n            name=\"password\"\n            placeholder=\"Пароль\"\n            required\n          />\n          <button className=\"form-section__button\" type=\"submit\">\n            {isLoading ? \"Загрузка...\" : \"Зарегистрироваться\"}\n          </button>\n          <p className=\"form-section__text\">\n            Уже зарегистрированы?{\" \"}\n            <Link className=\"form-section__link\" to=\"/sign-in\">\n              Войти\n            </Link>\n          </p>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default Register;\n","import React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport * as auth from \"./auth\";\n\nfunction Login({ handleLogin }) {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const history = useHistory();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (!email || !password) {\n      return;\n    }\n    auth\n      .authorize(password, email)\n      .then((data) => {\n        if (data.token) {\n          setEmail(\"\");\n          setPassword(\"\");\n          handleLogin();\n          history.push(\"/\");\n        }\n      })\n      .catch((e) => console.log(e));\n  };\n\n  return (\n    <div className=\"form-section\">\n      <div className=\"form-section__container\">\n        <form\n          onSubmit={handleSubmit}\n          className=\"form-section__form\"\n          name=\"sign-up\"\n        >\n          <h2 className=\"form-section__title\">Вход</h2>\n          <input\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            className=\"form-section__input\"\n            type=\"email\"\n            name=\"email\"\n            placeholder=\"Email\"\n            required\n          />\n          <input\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            className=\"form-section__input\"\n            type=\"password\"\n            name=\"password\"\n            placeholder=\"Пароль\"\n            required\n          />\n          <button className=\"form-section__button\" type=\"submit\">\n            Войти\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nfunction ProtectedRoute({ component: Component, ...props }) {\n  return (\n    <Route>\n      {props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />}\n    </Route>\n  );\n}\n\nexport default ProtectedRoute;\n","import React, { useState, useEffect } from \"react\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport ImagePopup from \"./ImagePopup\";\nimport { api } from \"../utils/Api\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport CofirmPopup from \"./ConfirmPopup\";\nimport InfoToolTip from \"./InfoToolTip\";\nimport { Switch, Route, Redirect, useHistory } from \"react-router-dom\";\nimport Register from \"./Register\";\nimport Login from \"./Login\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport * as auth from \"./auth\";\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\n  const [isConfirmPopupOpen, setIsConfirmPopupOpen] = useState(false);\n  const [isInfoToolTipOpen, setIsInfoToolTipOpen] = useState(false);\n  const [isSuccess, setIsSuccess] = useState(false);\n  const [selectedCard, setSelectedCard] = useState({ name: \"\", link: \"\" });\n  const [deletedCard, setDeletedCard] = useState({});\n  const [currentUser, setCurrentUser] = useState({\n    about: \"\",\n    avatar: \"\",\n    cohort: \"\",\n    name: \"\",\n    _id: \"\",\n  });\n  const [cards, setCards] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [loggedIn, setloggedIn] = useState(false);\n  const [email, setEmail] = useState(\"\");\n  const history = useHistory();\n\n  useEffect(() => {\n    Promise.all([api.getUserInfo(), api.getInitialCards()])\n      .then(([userData, cardsData]) => {\n        setCurrentUser(userData);\n        setCards(cardsData);\n      })\n      .catch((error) => console.log(error));\n  }, []);\n\n  useEffect(() => {\n    if (localStorage.getItem(\"token\")) {\n      const token = localStorage.getItem(\"token\");\n      auth.getContent(token).then((response) => {\n        if (response) {\n          setloggedIn(true);\n          setEmail(response.data.email);\n          history.push(\"/\");\n        }\n      });\n    }\n  }, [history, loggedIn]);\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(cardData) {\n    setIsImagePopupOpen(true);\n    setSelectedCard(cardData);\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsImagePopupOpen(false);\n    setIsConfirmPopupOpen(false);\n    setIsInfoToolTipOpen(false);\n    setSelectedCard({ name: \"\", link: \"\" });\n    setDeletedCard({});\n  }\n\n  function handleUpdateUser(userDataFromForm) {\n    setIsLoading(true);\n    api\n      .editUserInfo(userDataFromForm)\n      .then((userDataUpdated) => {\n        setCurrentUser({\n          ...userDataUpdated,\n          name: userDataUpdated.name,\n          about: userDataUpdated.about,\n        });\n        closeAllPopups();\n      })\n      .catch((error) => console.log(error))\n      .finally(() => setIsLoading(false));\n  }\n\n  function handleUpdateAvatar(avatarLink) {\n    setIsLoading(true);\n    api\n      .updateProfileAvatar(avatarLink.value)\n      .then((userDataUpdated) => {\n        setCurrentUser({\n          ...userDataUpdated,\n          avatar: userDataUpdated.avatar,\n        });\n        closeAllPopups();\n        avatarLink.value = \"\";\n      })\n      .catch((error) => console.log(error))\n      .finally(() => setIsLoading(false));\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((like) => like._id === currentUser._id);\n\n    api\n      .changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        setCards((state) =>\n          state.map((c) => (c._id === card._id ? newCard : c))\n        );\n      })\n      .catch((error) => console.log(error));\n  }\n\n  function onBinClick(card) {\n    setDeletedCard(card);\n    setIsConfirmPopupOpen(true);\n  }\n\n  function handleCardDelete() {\n    setIsLoading(true);\n    api\n      .deleteCard(deletedCard._id)\n      .then(() => {\n        setCards((state) => state.filter((c) => c._id !== deletedCard._id));\n        closeAllPopups();\n      })\n      .catch((error) => console.log(error))\n      .finally(() => setIsLoading(false));\n  }\n\n  function handleAddPlaceSubmit(newCardData, clearInputs) {\n    setIsLoading(true);\n    api\n      .addNewCard(newCardData)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n        clearInputs();\n      })\n      .catch((error) => console.log(error))\n      .finally(() => setIsLoading(false));\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n          isLoading={isLoading}\n        />\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n          isLoading={isLoading}\n        />\n        <CofirmPopup\n          isOpen={isConfirmPopupOpen}\n          onClose={closeAllPopups}\n          onSubmit={handleCardDelete}\n          isLoading={isLoading}\n        />\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n          isLoading={isLoading}\n        />\n        <ImagePopup\n          isOpen={isImagePopupOpen}\n          onClose={closeAllPopups}\n          selectedCard={selectedCard}\n        />\n        <InfoToolTip\n          isOpen={isInfoToolTipOpen}\n          onClose={closeAllPopups}\n          isSuccess={isSuccess}\n        />\n        {loggedIn && (\n          <Header\n            email={email}\n            linkText=\"Выйти\"\n            loggedIn={loggedIn}\n            setLoggedIn={setloggedIn}\n          />\n        )}\n        <Switch>\n          <ProtectedRoute\n            path=\"/\"\n            exact\n            component={Main}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            onCardClick={handleCardClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onBinClick={onBinClick}\n            loggedIn={loggedIn}\n          />\n          <Route path=\"/sign-up\">\n            <Header linkText=\"Войти\" path=\"/sign-in\" />\n            <Register\n              setInfoMsg={setIsInfoToolTipOpen}\n              setRegistationStatus={setIsSuccess}\n            />\n          </Route>\n          <Route path=\"/sign-in\">\n            <Header linkText=\"Регистрация\" path=\"/sign-up\" />\n            <Login handleLogin={() => setloggedIn(true)} />\n          </Route>\n          <Redirect to=\"/sign-in\" />\n        </Switch>\n        {loggedIn && <Footer />}\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { HashRouter } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}