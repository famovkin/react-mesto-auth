{"version":3,"sources":["images/logo.svg","components/Header.js","images/edit_button.svg","images/add_button.svg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","images/close_icon.svg","components/PopupWithForm.js","components/ImagePopup.js","utils/Api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/auth.js","components/Register.js","components/Login.js","components/ProtectedRoute.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","email","linkText","path","loggedIn","setLoggedIn","history","useHistory","className","to","src","logo","alt","onClick","localStorage","removeItem","push","CurrentUserContext","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","like","cardLikeButtonClassName","onCardDelete","type","onCardClick","link","name","onCardLike","length","Main","onEditAvatar","avatar","onEditProfile","editButton","about","onAddPlace","addButton","cards","map","cardData","Footer","PopupWithForm","isOpen","onClose","closeButton","onSubmit","e","title","children","isLoading","textLoader","textSubmitBtn","ImagePopup","selectedCard","api","baseUrl","headers","this","_baseUrl","_headers","res","ok","json","Promise","reject","fetch","then","_checkServerResponse","job","method","body","JSON","stringify","cardId","likeStatus","newCard","newAvatarLink","authorization","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","preventDefault","value","onChange","target","id","placeholder","minLength","maxLength","required","EditAvatarPopup","onUpdateAvatar","inputForImage","useRef","current","ref","AddPlacePopup","placeTitle","setPlaceTitle","placeLinkImage","setPlaceLinkImage","clearInputs","BASE_URL","Register","setEmail","password","setPassword","setIsLoading","cleanupFlag","setCleanupFlag","response","status","err","catch","console","log","auth","finally","Login","handleLogin","data","token","setItem","ProtectedRoute","Component","component","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setisAddPlacePopupOpen","isEditAvatarPopupOpen","setisEditAvatarPopupOpen","isImagePopupOpen","setisImagePopupOpen","setSelectedCard","cohort","setCurrentUser","setCards","setloggedIn","closeAllPopups","all","getUserInfo","getInitialCards","userData","cardsData","error","getItem","Authorization","Provider","userDataFromForm","editUserInfo","userDataUpdated","newCardData","addNewCard","avatarLink","updateProfileAvatar","exact","changeLikeCardStatus","state","c","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.66b43c8e.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","import React from \"react\";\nimport logo from \"../images/logo.svg\";\nimport { Link, useHistory } from \"react-router-dom\";\n\nfunction Header({ email, linkText, path, loggedIn, setLoggedIn }) {\n  const history = useHistory();\n\n  const signOut = () => {\n    localStorage.removeItem(\"token\");\n    setLoggedIn(false);\n    history.push(\"/sign-in\");\n  };\n\n  return (\n    <header className=\"header page__header\">\n      <Link to=\"/\">\n        <img className=\"logo header__logo\" src={logo} alt=\"Логотип Mesto\" />\n      </Link>\n      <div className=\"header__profile\">\n        {loggedIn ? (\n          <>\n            <p className=\"header__email\">{email}</p>\n            <button className=\"header__link\" onClick={signOut}>\n              {linkText}\n            </button>\n          </>\n        ) : (\n          <Link className=\"header__link\" to={path}>\n            {linkText}\n          </Link>\n        )}\n      </div>\n    </header>\n  );\n}\n\nexport default Header;\n","export default __webpack_public_path__ + \"static/media/edit_button.6c7bf054.svg\";","export default __webpack_public_path__ + \"static/media/add_button.bed8c136.svg\";","import { createContext } from 'react';\n\nexport const CurrentUserContext = createContext();\n","import React, { useContext } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n  const currentUser = useContext(CurrentUserContext);\n  const isOwn = props.card.owner._id === currentUser._id;\n  const cardDeleteButtonClassName = `card__delete-button ${\n    !isOwn && \"card__delete-button_hidden\"\n  }`;\n  const isLiked = props.card.likes.some((like) => like._id === currentUser._id);\n  const cardLikeButtonClassName = `card__like-button ${\n    isLiked && \"card__like-button_type_liked\"\n  }`;\n\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  }\n\n  function handleDeleteClick() {\n    props.onCardDelete(props.card);\n  }\n\n  return (\n    <li className=\"card\">\n      <button\n        onClick={handleDeleteClick}\n        className={cardDeleteButtonClassName}\n        type=\"button\"\n      ></button>\n      <img\n        className=\"card__image\"\n        onClick={handleClick}\n        src={props.card.link}\n        alt={props.card.name}\n      />\n      <div className=\"card__content\">\n        <h2 className=\"card__title\">{props.card.name}</h2>\n        <div className=\"card__like\">\n          <button\n            onClick={handleLikeClick}\n            className={cardLikeButtonClassName}\n            type=\"button\"\n          ></button>\n          <p className=\"card__like-counter\">{props.card.likes.length}</p>\n        </div>\n      </div>\n    </li>\n  );\n}\n\nexport default Card;\n","import React, { useContext } from \"react\";\nimport editButton from \"../images/edit_button.svg\";\nimport addButton from \"../images/add_button.svg\";\nimport Card from \"../components/Card\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Main(props) {\n  const currentUser = useContext(CurrentUserContext);\n\n  return (\n    <main>\n      <section className=\"profile page__profile\">\n        <div className=\"profile__info\">\n          <button\n            className=\"profile__avatar-edit-button\"\n            onClick={props.onEditAvatar}\n            type=\"button\"\n          >\n            <img\n              className=\"profile__avatar-image\"\n              src={currentUser.avatar}\n              alt=\"Аватарка пользователя\"\n            />\n          </button>\n          <div className=\"profile__text\">\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\n            <button\n              className=\"profile__edit-button\"\n              onClick={props.onEditProfile}\n              type=\"button\"\n            >\n              <img\n                className=\"profile__edit-image\"\n                src={editButton}\n                alt=\"Карандаш\"\n              />\n            </button>\n            <p className=\"profile__job\">{currentUser.about}</p>\n          </div>\n        </div>\n        <button\n          className=\"profile__add-button\"\n          onClick={props.onAddPlace}\n          type=\"button\"\n        >\n          <img className=\"profile__add-image\" src={addButton} alt=\"Плюс\" />\n        </button>\n      </section>\n      <section className=\"places page__places\" aria-label=\"Блок с фотографиями\">\n        <ul className=\"places__cards\">\n          {props.cards.map((cardData) => (\n            <Card\n              key={cardData._id}\n              card={cardData}\n              onCardClick={props.onCardClick}\n              onCardLike={props.onCardLike}\n              onCardDelete={props.onCardDelete}\n            />\n          ))}\n        </ul>\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","import React from \"react\";\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer page__footer\">\r\n      <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","export default __webpack_public_path__ + \"static/media/close_icon.039f1f52.svg\";","import React from \"react\";\r\nimport closeButton from \"../images/close_icon.svg\";\r\n\r\nfunction PopupWithForm(props) {\r\n  function handleSubmit(e) {\r\n    props.onSubmit(e);\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={`popup popup_type_${props.name} ${\r\n        props.isOpen && \"popup_opened\"\r\n      }`}\r\n    >\r\n      <div className=\"popup__container\">\r\n        <button className=\"popup__close-button\" type=\"button\">\r\n          <img\r\n            className=\"popup__close-image\"\r\n            onClick={props.onClose}\r\n            src={closeButton}\r\n            alt=\"Крестик\"\r\n          />\r\n        </button>\r\n        <form\r\n          onSubmit={handleSubmit}\r\n          className={`popup__form popup__form_type_${props.name}`}\r\n          name={props.name}\r\n        >\r\n          <h2 className=\"popup__title\">{props.title}</h2>\r\n          {props.children}\r\n          <button className=\"popup__button\" type=\"submit\">\r\n            {props.isLoading ? props.textLoader : props.textSubmitBtn}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from \"react\";\r\nimport closeButton from \"../images/close_icon.svg\";\r\n\r\nfunction ImagePopup(props) {\r\n  return (\r\n    <div className={`popup popup_type_image ${props.isOpen && \"popup_opened\"}`}>\r\n      <div className=\"popup__image-container\">\r\n        <button className=\"popup__close-button\" type=\"button\">\r\n          <img\r\n            className=\"popup__close-image\"\r\n            onClick={props.onClose}\r\n            src={closeButton}\r\n            alt=\"Крестик\"\r\n          />\r\n        </button>\r\n        <img\r\n          className=\"popup__image\"\r\n          src={props.selectedCard.link}\r\n          alt={props.selectedCard.name}\r\n        />\r\n        <h2 className=\"popup__heading\">{props.selectedCard.name}</h2>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","class Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  _checkServerResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Что-то пошло не так. Обратитесь к разработчику`);\n  }\n\n  getUserInfo() {\n    return fetch(`${this._baseUrl}users/me`, {\n      headers: this._headers,\n    }).then((res) => this._checkServerResponse(res));\n  }\n\n  editUserInfo({ name, job }) {\n    return fetch(`${this._baseUrl}users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        about: job,\n      }),\n    }).then((res) => this._checkServerResponse(res));\n  }\n\n  getInitialCards() {\n    return fetch(`${this._baseUrl}cards`, {\n      headers: this._headers,\n    })\n      .then((res) => this._checkServerResponse(res))\n      .then((res) => {\n        return res;\n      });\n  }\n\n  deleteCard(cardId) {\n    return fetch(`${this._baseUrl}cards/${cardId}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then((res) => this._checkServerResponse(res));\n  }\n\n  changeLikeCardStatus(cardId, likeStatus) {\n    if (likeStatus) {\n      return fetch(`${this._baseUrl}cards/likes/${cardId}`, {\n        method: \"PUT\",\n        headers: this._headers,\n      }).then((res) => this._checkServerResponse(res));\n    } else {\n      return fetch(`${this._baseUrl}cards/likes/${cardId}`, {\n        method: \"DELETE\",\n        headers: this._headers,\n      }).then((res) => this._checkServerResponse(res));\n    }\n  }\n\n  addNewCard(newCard) {\n    return fetch(`${this._baseUrl}cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: newCard.name,\n        link: newCard.link,\n      }),\n    }).then((res) => this._checkServerResponse(res));\n  }\n\n  updateProfileAvatar(newAvatarLink) {\n    return fetch(`${this._baseUrl}users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: newAvatarLink,\n      }),\n    }).then((res) => this._checkServerResponse(res));\n  }\n}\n\nexport const api = new Api({\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-30/\",\n  headers: {\n    authorization: \"f8d069a4-3828-4aef-8f1b-77976b73046b\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, isLoading }) {\r\n  const [name, setName] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser, isOpen]);\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleChangeDescription(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateUser({ name: name, job: description });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"edit\"\r\n      title=\"Редактировать профиль\"\r\n      textSubmitBtn=\"Сохранить\"\r\n      textLoader=\"Сохранение...\"\r\n      isLoading={isLoading}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        value={name || \"\"}\r\n        onChange={handleChangeName}\r\n        id=\"name-input\"\r\n        className=\"popup__input popup__input_type_name\"\r\n        type=\"text\"\r\n        name=\"name\"\r\n        placeholder=\"Имя\"\r\n        minLength=\"2\"\r\n        maxLength=\"40\"\r\n        required\r\n      />\r\n      <span className=\"popup__error name-input-error\"></span>\r\n      <input\r\n        value={description || \"\"}\r\n        onChange={handleChangeDescription}\r\n        id=\"job-input\"\r\n        className=\"popup__input popup__input_type_job\"\r\n        type=\"text\"\r\n        name=\"job\"\r\n        placeholder=\"Профессиональная деятельность\"\r\n        minLength=\"2\"\r\n        maxLength=\"200\"\r\n        required\r\n      />\r\n      <span className=\"popup__error job-input-error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React, { useRef } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, isLoading }) {\r\n  const inputForImage = useRef();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateAvatar(inputForImage.current);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      onSubmit={handleSubmit}\r\n      name=\"update-avatar\"\r\n      title=\"Обновить аватар\"\r\n      textSubmitBtn=\"Сохранить\"\r\n      textLoader=\"Сохранение...\"\r\n      isLoading={isLoading}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n    >\r\n      <input\r\n        ref={inputForImage}\r\n        id=\"avatar-link-input\"\r\n        className=\"popup__input popup__input_type_avatar-link\"\r\n        type=\"url\"\r\n        name=\"avatar-link\"\r\n        placeholder=\"Ссылка на аватар\"\r\n        required\r\n      />\r\n      <span className=\"popup__error avatar-link-input-error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React, { useState } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace, isLoading }) {\r\n  const [placeTitle, setPlaceTitle] = useState(\"\");\r\n  const [placeLinkImage, setPlaceLinkImage] = useState(\"\");\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onAddPlace({ name: placeTitle, link: placeLinkImage }, clearInputs);\r\n  }\r\n\r\n  function clearInputs() {\r\n    setPlaceTitle(\"\");\r\n    setPlaceLinkImage(\"\");\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      onSubmit={handleSubmit}\r\n      name=\"add\"\r\n      title=\"Новое место\"\r\n      textSubmitBtn=\"Создать\"\r\n      textLoader=\"Сохранение...\"\r\n      isLoading={isLoading}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n    >\r\n      <input\r\n        value={placeTitle}\r\n        onChange={(e) => {\r\n          setPlaceTitle(e.target.value);\r\n        }}\r\n        id=\"place-name-input\"\r\n        className=\"popup__input popup__input_type_place-name\"\r\n        type=\"text\"\r\n        name=\"place-name\"\r\n        placeholder=\"Название\"\r\n        minLength=\"2\"\r\n        maxLength=\"30\"\r\n        required\r\n      />\r\n      <span className=\"popup__error place-name-input-error\"></span>\r\n      <input\r\n        value={placeLinkImage}\r\n        onChange={(e) => {\r\n          setPlaceLinkImage(e.target.value);\r\n        }}\r\n        id=\"place-link-input\"\r\n        className=\"popup__input popup__input_type_place-link\"\r\n        type=\"url\"\r\n        name=\"place-link\"\r\n        placeholder=\"Ссылка на картинку\"\r\n        required\r\n      />\r\n      <span className=\"popup__error place-link-input-error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","export const BASE_URL = \"https://auth.nomoreparties.co\";\n\nexport const register = (password, email) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      password: password,\n      email: email,\n    }),\n  })\n    .then((response) => {\n      try {\n        if (response.status === 201) {\n          return response.json();\n        }\n      } catch (err) {\n        return err;\n      }\n    })\n    .then((response) => {\n      return response;\n    })\n    .catch((e) => console.log(e));\n};\n\nexport const authorize = (password, email) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      password: password,\n      email: email,\n    }),\n  })\n    .then((response) => {\n      return response.json();\n    })\n    .then((data) => {\n      if (data.token) {\n        localStorage.setItem(\"token\", data.token);\n        return data;\n      }\n    })\n    .catch((e) => console.log(e));\n};\n\nexport const getContent = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`,\n    },\n  })\n    .then((response) => {\n      return response.json();\n    })\n    .catch((e) => console.log(e));\n};\n","import React, { useState, useEffect } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport * as auth from \"./auth\";\n\nfunction Register() {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [cleanupFlag, setCleanupFlag] = useState(false);\n  const history = useHistory();\n\n  useEffect(() => {\n    return () => setCleanupFlag(true);\n  }, []);\n\n  const handleSubmit = (e) => {\n    if (!cleanupFlag) {\n      setIsLoading(true);\n      e.preventDefault();\n      auth\n        .register(password, email)\n        .then((res) => {\n          if (res) {\n            history.push(\"/sign-in\");\n          } else {\n            console.log(\"Что-то пошло не так\");\n          }\n        })\n        .catch((e) => console.log(e))\n        .finally(() => setIsLoading(false));\n    }\n  };\n\n  return (\n    <div className=\"form-section\">\n      <div className=\"form-section__container\">\n        <form\n          onSubmit={handleSubmit}\n          className=\"form-section__form\"\n          name=\"sign-up\"\n        >\n          <h2 className=\"form-section__title\">Регистрация</h2>\n          <input\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            className=\"form-section__input\"\n            type=\"email\"\n            name=\"email\"\n            placeholder=\"Email\"\n            required\n          />\n          <input\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            className=\"form-section__input\"\n            type=\"password\"\n            name=\"password\"\n            placeholder=\"Пароль\"\n            required\n          />\n          <button className=\"form-section__button\" type=\"submit\">\n            {isLoading ? \"Загрузка...\" : \"Зарегистрироваться\"}\n          </button>\n          <p className=\"form-section__text\">\n            Уже зарегистрированы?{\" \"}\n            <Link className=\"form-section__link\" to=\"/sign-in\">\n              Войти\n            </Link>\n          </p>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default Register;\n","import React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport * as auth from \"./auth\";\n\nfunction Login({ handleLogin }) {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const history = useHistory();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (!email || !password) {\n      return;\n    }\n    auth\n      .authorize(password, email)\n      .then((data) => {\n        if (data.token) {\n          setEmail(\"\");\n          setPassword(\"\");\n          handleLogin();\n          history.push(\"/\");\n        }\n      })\n      .catch((e) => console.log(e));\n  };\n\n  return (\n    <div className=\"form-section\">\n      <div className=\"form-section__container\">\n        <form\n          onSubmit={handleSubmit}\n          className=\"form-section__form\"\n          name=\"sign-up\"\n        >\n          <h2 className=\"form-section__title\">Вход</h2>\n          <input\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            className=\"form-section__input\"\n            type=\"email\"\n            name=\"email\"\n            placeholder=\"Email\"\n            required\n          />\n          <input\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            className=\"form-section__input\"\n            type=\"password\"\n            name=\"password\"\n            placeholder=\"Пароль\"\n            required\n          />\n          <button className=\"form-section__button\" type=\"submit\">\n            Войти\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nfunction ProtectedRoute({ component: Component, ...props }) {\n  return (\n    <Route>\n      {props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />}\n    </Route>\n  );\n}\n\nexport default ProtectedRoute;\n","import React, { useState } from \"react\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport ImagePopup from \"./ImagePopup\";\nimport { useEffect } from \"react/cjs/react.development\";\nimport { api } from \"../utils/Api\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport { Switch, Route, Redirect, useHistory } from \"react-router-dom\";\nimport Register from \"./Register\";\nimport Login from \"./Login\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport * as auth from \"./auth\";\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setisAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setisEditAvatarPopupOpen] = useState(false);\n  const [isImagePopupOpen, setisImagePopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState({ name: \"\", link: \"\" });\n  const [currentUser, setCurrentUser] = useState({\n    about: \"\",\n    avatar: \"\",\n    cohort: \"\",\n    name: \"\",\n    _id: \"\",\n  });\n  const [cards, setCards] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [loggedIn, setloggedIn] = useState(false);\n  const [email, setEmail] = useState(\"\");\n  const history = useHistory();\n\n  useEffect(() => {\n    Promise.all([api.getUserInfo(), api.getInitialCards()])\n      .then(([userData, cardsData]) => {\n        setCurrentUser(userData);\n        setCards(cardsData);\n      })\n      .catch((error) => console.log(error));\n  }, []);\n\n  useEffect(() => {\n    if (localStorage.getItem(\"token\")) {\n      const token = localStorage.getItem(\"token\");\n      auth.getContent(token).then((response) => {\n        if (response) {\n          setloggedIn(true);\n          setEmail(response.data.email);\n          history.push(\"/\");\n        }\n      });\n    }\n  }, [history, loggedIn]);\n\n  function handleEditAvatarClick() {\n    setisEditAvatarPopupOpen(true);\n  }\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n  function handleAddPlaceClick() {\n    setisAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(cardData) {\n    setisImagePopupOpen(true);\n    setSelectedCard(cardData);\n  }\n\n  function closeAllPopups() {\n    setisEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setisAddPlacePopupOpen(false);\n    setisImagePopupOpen(false);\n    setSelectedCard({ name: \"\", link: \"\" });\n  }\n\n  function handleUpdateUser(userDataFromForm) {\n    setIsLoading(true);\n    api\n      .editUserInfo(userDataFromForm)\n      .then((userDataUpdated) => {\n        setCurrentUser({\n          ...userDataUpdated,\n          name: userDataUpdated.name,\n          about: userDataUpdated.about,\n        });\n        closeAllPopups();\n      })\n      .catch((error) => console.log(error))\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n\n  function handleUpdateAvatar(avatarLink) {\n    setIsLoading(true);\n    api\n      .updateProfileAvatar(avatarLink.value)\n      .then((userDataUpdated) => {\n        setCurrentUser({\n          ...userDataUpdated,\n          avatar: userDataUpdated.avatar,\n        });\n        closeAllPopups();\n        avatarLink.value = \"\";\n      })\n      .catch((error) => console.log(error))\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((like) => like._id === currentUser._id);\n\n    api\n      .changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        setCards((state) =>\n          state.map((c) => (c._id === card._id ? newCard : c))\n        );\n      })\n      .catch((error) => console.log(error));\n  }\n\n  function handleCardDelete(card) {\n    api\n      .deleteCard(card._id)\n      .then(() => {\n        setCards((state) => state.filter((c) => c._id !== card._id));\n      })\n      .catch((error) => console.log(error));\n  }\n\n  function handleAddPlaceSubmit(newCardData, clearInputs) {\n    setIsLoading(true);\n    api\n      .addNewCard(newCardData)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n        clearInputs();\n      })\n      .catch((error) => console.log(error))\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n          isLoading={isLoading}\n        />\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n          isLoading={isLoading}\n        />\n        <PopupWithForm name=\"confirm\" title=\"Вы уверены?\" textSubmitBtn=\"Да\" />\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n          isLoading={isLoading}\n        />\n        <ImagePopup\n          isOpen={isImagePopupOpen}\n          onClose={closeAllPopups}\n          selectedCard={selectedCard}\n        />\n        {loggedIn && (\n          <Header\n            email={email}\n            linkText=\"Выйти\"\n            loggedIn={loggedIn}\n            setLoggedIn={setloggedIn}\n          />\n        )}\n        <Switch>\n          <ProtectedRoute\n            path=\"/\"\n            exact\n            component={Main}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            onCardClick={handleCardClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n            loggedIn={loggedIn}\n          />\n          <Route path=\"/sign-up\">\n            <Header linkText=\"Войти\" path=\"/sign-in\" />\n            <Register />\n          </Route>\n          <Route path=\"/sign-in\">\n            <Header linkText=\"Регистрация\" path=\"/sign-up\" />\n            <Login handleLogin={() => setloggedIn(true)} />\n          </Route>\n          <Redirect to=\"/sign-in\" />\n        </Switch>\n        {loggedIn && <Footer />}\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { HashRouter } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}